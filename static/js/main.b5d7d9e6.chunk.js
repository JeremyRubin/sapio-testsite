(this["webpackJsonporg.judica.sapio-studio"]=this["webpackJsonporg.judica.sapio-studio"]||[]).push([[0],{1080:function(e,t,n){},1084:function(e,t,n){},1085:function(e,t,n){},1086:function(e,t,n){},1087:function(e,t,n){},1088:function(e,t,n){},1089:function(e,t,n){},1090:function(e,t,n){},1167:function(e,t,n){},1168:function(e,t,n){},1169:function(e,t,n){},1170:function(e,t,n){},1171:function(e,t,n){},1172:function(e,t,n){},1173:function(e,t,n){},1174:function(e,t,n){},1175:function(e,t,n){},1176:function(e,t,n){},1177:function(e,t,n){},1178:function(e,t,n){},1179:function(e,t,n){},1180:function(e,t,n){},1181:function(e,t,n){},1182:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(2),c=n.n(a),i=n(148),o=n.n(i),s=n(15),u=n(46),l=n(9),d=n(195),j=n(704),b=n(186),f=n(1219),h=n(32),p=n(1217),x=n(47),O=n(70),v=n.n(O),m=(n(962),n(48)),g=n(314),y=n(13),_=n.n(y),w=n(20),k=n(26),C=n.n(k),S=(n(1080),n(662)),N=n(76),T=n(85);function P(e){var t,n,a,i=Object(h.a)(),o=Object(s.c)(T.e),u=c.a.useState(0),j=Object(l.a)(u,2),b=j[0],f=j[1],p=c.a.useState(null),x=Object(l.a)(p,2),O=x[0],v=x[1];c.a.useEffect((function(){var t,n=null,r=!0,a=function(){var t=Object(w.a)(_.a.mark((function t(){var c,i,s,u;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,t.prev=1,t.next=4,e.api.check_balance();case 4:c=t.sent,f(c),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),f(0);case 12:return t.prev=12,t.next=15,e.api.blockchaininfo();case 15:i=t.sent,console.log(b),v(i),t.next=24;break;case 20:t.prev=20,t.t1=t.catch(12),console.error(t.t1),v(null);case 24:r&&(u=o,u=Object(k.clamp)(null!==(s=u)&&void 0!==s?s:0,5,300),console.log("StatusBar","NEXT PERIODIC CHECK IN ",u),n=setTimeout(a,1e3*u));case 25:case"end":return t.stop()}}),t,null,[[1,8],[12,20]])})));return function(){return t.apply(this,arguments)}}(),c=o;return c=Object(k.clamp)(null!==(t=c)&&void 0!==t?t:0,5,300),n=setTimeout(a,1e3*c),function(){r=!1,null!==n&&clearTimeout(n)}}),[]);var m=null!==(t=null===O||void 0===O?void 0:O.chain)&&void 0!==t?t:"disconnected",g=null!==(n=null===O||void 0===O?void 0:O.headers)&&void 0!==n?n:"?",y=null!==(a=null===O||void 0===O?void 0:O.headers)&&void 0!==a?a:"?";return Object(r.jsx)(d.a,{square:!0,sx:{top:"auto",bottom:0},className:"BitcoinStatusBar Draggable",style:{background:i.palette.background.default,color:i.palette.info.main},children:Object(r.jsxs)(S.a,{variant:"dense",children:[Object(r.jsx)(N.a,{variant:"h6",color:"inherit",component:"div",children:Object(r.jsxs)("div",{children:["chain: ",m]})}),Object(r.jsx)(N.a,{variant:"h6",color:"inherit",component:"div",children:Object(r.jsxs)("div",{style:{marginLeft:"0.5em"},children:["balance: ",b," BTC"]})}),Object(r.jsx)(N.a,{variant:"h6",color:"inherit",component:"div",children:Object(r.jsxs)("div",{style:{marginLeft:"0.5em"},children:["processed: ",y,"/",g]})})]})})}var E=n(193),I=n(21),A=n(33),R=n(37),M=n(126),B=function(){function e(t){Object(A.a)(this,e),this.model=void 0,this.model=t}return Object(R.a)(e,[{key:"load",value:function(e){var t,n,r,a;(t=this.model).addAll.apply(t,Object(I.a)(e.txn_models.filter((function(e){return!(e instanceof M.a)})))),(n=this.model).addAll.apply(n,Object(I.a)(e.utxo_models));var c=e.utxo_models.map((function(e){return e.getOutPorts()})).flat(1).map((function(e){return Object.entries(e.getLinks()).map((function(e){return e[1]}))})).flat(1);(r=this.model).addAll.apply(r,Object(I.a)(c));var i=e.txn_models.filter((function(e){return!(e instanceof M.a)})).map((function(e){return e.getOutPorts()})).flat(1).map((function(e){return Object.entries(e.getLinks()).map((function(e){return e[1]}))})).flat(1);(a=this.model).addAll.apply(a,Object(I.a)(i))}},{key:"unload",value:function(e){var t=this;e.txn_models.forEach((function(e){return e.remove_from_model(t.model)})),E.c.cache.clear()}}]),e}(),D=n(53),L=(n(1085),n(91)),F=n(389),W=n(140),q=n(127),U=n(93),H=n(519),z=n.n(H),V=n(106),G=n(167),K=n(663),J=n(404),X=n.n(J),$=n(715),Y=n.n($),Z=n(57),Q=n.n(Z);function ee(e){var t=Object(h.a)(),n=Object(s.b)(),a=Object(s.c)(T.d),i=c.a.useState(Date.now()),o=Object(l.a)(i,2),u=o[0],d=o[1],j=c.a.useState(Date.now()+31536e6),b=Object(l.a)(j,2),f=b[0],p=b[1],x=function(e,t,n){return Math.round(e/100*(t-n)+n)},O=c.a.useState(x(33,f,u)),v=Object(l.a)(O,2),m=v[0],g=v[1],y=c.a.useState(x(50,f,u)),_=Object(l.a)(y,2),w=_[0],k=_[1],C="Regtest"===a||"Signet"===a,S=Math.round(144*((new Date).getFullYear()-2008)*365-26280),P=c.a.useState(C?100:S),E=Object(l.a)(P,2),I=E[0],A=E[1],R=c.a.useState(C?1e3:S+52560),M=Object(l.a)(R,2),B=M[0],H=M[1],J=c.a.useState(x(33,B,I)),$=Object(l.a)(J,2),Z=$[0],ee=$[1],te=c.a.useState(x(66,B,I)),ne=Object(l.a)(te,2),re=ne[0],ae=ne[1],ce=function(e){return function(t){var n=t.currentTarget;e(n)}},ie=ce((function(e){A(e.valueAsNumber)})),oe=ce((function(e){H(e.valueAsNumber)}));c.a.useEffect((function(){var t,r=e.contract.reachable_at_time(w/1e3,re,m/1e3,Z),a={},c=Object(D.a)(r);try{for(c.s();!(t=c.n()).done;){a[t.value.get_txid()]=null}}catch(i){c.e(i)}finally{c.f()}n(Object(L.c)(a))}),[Z,m,B,I,f,u,w,re]);new Date(m).toLocaleString(void 0,{timeZone:"UTC"}),new Date(w).toLocaleString(void 0,{timeZone:"UTC"});var se=function(e){return"".concat(e.getUTCFullYear(),"-").concat(e.getUTCMonth().toString().padStart(2,"0"),"-").concat(e.getUTCDay().toString().padStart(2,"0"),"T").concat(e.getUTCHours().toString().padStart(2,"0"),":").concat(e.getUTCMinutes().toString().padStart(2,"0"))},ue=se(new Date(f)),le=se(new Date(u)),de=Object(r.jsxs)("div",{className:"Controler",children:[Object(r.jsx)("div",{className:"ControlerSliders",children:Object(r.jsx)(F.h,{value:[m,w],valueLabelFormat:function(e,t){var n=new Date(e);return Object(r.jsxs)("div",{children:[Object(r.jsx)(N.a,{children:n.toLocaleDateString()}),Object(r.jsx)("p",{children:n.toLocaleTimeString()})]})},step:1e3,min:u,max:f,valueLabelDisplay:"on",onChange:function(e,t,n){"number"!==typeof t&&2===t.length&&(g(t[0]),k(t[1]))}})}),Object(r.jsxs)("div",{className:"ControlerSettings",children:[Object(r.jsx)("h6",{children:" Date"}),Object(r.jsx)(W.a,{label:"Start Time",type:"datetime-local",defaultValue:le,onChange:function(e){var t;d(null!==(t=Date.parse(e.currentTarget.value))&&void 0!==t?t:f)},InputLabelProps:{shrink:!0}}),Object(r.jsx)(W.a,{label:"End Time",type:"datetime-local",defaultValue:ue,onChange:function(e){var t;p(null!==(t=Date.parse(e.currentTarget.value))&&void 0!==t?t:f)},InputLabelProps:{shrink:!0}}),Object(r.jsx)(q.a,{title:"Click to Snap Time",children:Object(r.jsx)(U.a,{"aria-label":"snap-time",onClick:function(){var e=m/1e3,t=w/1e3;if(e!==t){var n=Math.min(e,t),r=Math.max(e,t,n+86400),a=Math.abs(t-e);r+=a,d(1e3*(n-=a)),p(1e3*r),k(x(t>e?66:33,1e3*r,1e3*n)),g(x(t>e?33:66,1e3*r,1e3*n))}},children:Object(r.jsx)(z.a,{style:{color:V.a[500]}})})})]})]}),je=Object(r.jsxs)("div",{className:"Controler",children:[Object(r.jsx)("div",{className:"ControlerSliders",children:Object(r.jsx)(F.h,{value:[Z,re],min:I,max:B,valueLabelDisplay:"on",onChange:function(e,t,n){"number"!==typeof t&&2===t.length&&(ee(t[0]),ae(t[1]))}})}),Object(r.jsxs)("div",{className:"ControlerSettings",children:[Object(r.jsx)("h6",{children:" Height"}),Object(r.jsx)("div",{children:Object(r.jsx)(W.a,{label:"Start Height",value:I,type:"number",onChange:ie})}),Object(r.jsx)("div",{children:Object(r.jsx)(W.a,{label:"End Height",value:B,type:"number",onChange:oe})}),Object(r.jsx)(q.a,{title:"Click to Snap Blocks",children:Object(r.jsx)(U.a,{"aria-label":"snap-blocks",onClick:function(){var e=Z,t=re;if(e!==t){var n=Math.min(e,t),r=Math.max(e,t,n+144),a=Math.abs(t-e);n=Math.max(n-a,0),r+=a,A(Math.round(n)),H(Math.round(r)),ee(x(t>e?33:66,Math.round(r),Math.round(n))),ae(x(t>e?66:33,Math.round(r),Math.round(n)))}},children:Object(r.jsx)(z.a,{style:{color:V.a[500]}})})})]})]});return Object(r.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"Simulation",style:{backgroundColor:Q()(t.palette.background.default).fade(.2).toString()},children:[Object(r.jsx)(q.a,{title:"Close Simulator",children:Object(r.jsx)(U.a,{"aria-label":"close-sim",onClick:e.hide,children:Object(r.jsx)(X.a,{style:{color:G.a[500]}})})}),Object(r.jsx)(q.a,{title:"Hide Simulator Results",children:Object(r.jsx)(U.a,{"aria-label":"hide-sim",onClick:function(){n(Object(L.c)({}))},children:Object(r.jsx)(Y.a,{style:{color:K.a[500]}})})}),Object(r.jsxs)("div",{className:"Controlers",children:[je,de]})]})}n(1086);var te=n(23),ne=n(667),re=n(716),ae=n.n(re),ce=n(660),ie=n(664),oe=n(665),se=n(405),ue=n(666),le=n(391),de=n(84),je=(n(1087),n(71)),be=n(68);function fe(e){Object(s.b)();return Object(r.jsxs)(d.a,{className:"AppNavBar",square:!0,children:[Object(r.jsx)(ce.a,{sx:{textAlign:"center"},children:Object(r.jsx)(xe,{})}),Object(r.jsx)(ie.a,{}),Object(r.jsxs)(ce.a,{children:[Object(r.jsx)(Oe,{relayout:e.relayout}),Object(r.jsx)(ve,{bitcoin_node_manager:e.bitcoin_node_manager}),Object(r.jsx)(pe,{})]}),Object(r.jsx)(ie.a,{}),Object(r.jsx)(ce.a,{children:Object(r.jsx)(he,{})}),Object(r.jsx)(ie.a,{})]})}function he(){var e=Object(s.b)();return Object(r.jsxs)(oe.a,{disableGutters:!0,button:!1,onClick:function(){return e(Object(m.l)("Settings"))},children:[Object(r.jsx)(se.a,{children:Object(r.jsx)(ae.a,{})}),Object(r.jsx)(ue.a,{primary:"Settings"})]},"settings")}function pe(){var e=Object(s.b)(),t=c.a.useRef(null),n=c.a.useState(!1),a=Object(l.a)(n,2),i=a[0],o=a[1];return Object(r.jsxs)("div",{children:[Object(r.jsxs)(oe.a,{disableGutters:!0,button:!1,onClick:function(){return o(!0)},ref:t,children:[Object(r.jsx)(se.a,{}),Object(r.jsx)(ue.a,{primary:"Simulate"})]},"Simulate"),Object(r.jsx)(le.a,{anchorEl:t.current,anchorOrigin:{vertical:"center",horizontal:"right"},keepMounted:!0,open:i,onClose:function(){return o(!1)},children:Object(r.jsx)(de.a,{onClick:function(){o(!1),e(Object(L.e)())},children:"Timing"})})]})}function xe(){var e=Object(s.b)();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(oe.a,{disableGutters:!0,button:!0,onClick:function(){return e(Object(m.l)("Wallet"))},children:[Object(r.jsx)(se.a,{}),Object(r.jsx)(ue.a,{primary:"Wallet"})]},"Wallet"),Object(r.jsxs)(oe.a,{disableGutters:!0,button:!0,onClick:function(){return e(Object(m.l)("ContractViewer"))},children:[Object(r.jsx)(se.a,{}),Object(r.jsx)(ue.a,{primary:"Contract Creator"})]},"Contract Creator"),Object(r.jsxs)(oe.a,{disableGutters:!0,button:!0,onClick:Object(w.a)(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(Object(m.l)("MiniscriptCompiler"));case 1:case"end":return t.stop()}}),t)}))),children:[Object(r.jsx)(se.a,{}),Object(r.jsx)(ue.a,{primary:"Miniscript Testing"})]},"Miniscript"),Object(r.jsxs)(oe.a,{disableGutters:!0,button:!0,onClick:function(){return e(Object(m.l)("Chat"))},children:[Object(r.jsx)(se.a,{children:Object(r.jsx)(ne.a,{})}),Object(r.jsx)(ue.a,{primary:"Chat"})]},"Chat")]})}function Oe(e){var t=Object(s.b)(),n=c.a.useRef(null),a=c.a.useState(!1),i=Object(l.a)(a,2),o=i[0],u=i[1];return Object(r.jsxs)("div",{children:[Object(r.jsxs)(oe.a,{disableGutters:!0,button:!1,onClick:function(){return u(!0)},ref:n,children:[Object(r.jsx)(se.a,{}),Object(r.jsx)(ue.a,{primary:"Contract"})]},"Contract"),Object(r.jsxs)(le.a,{anchorEl:n.current,anchorOrigin:{vertical:"center",horizontal:"right"},keepMounted:!0,open:o,onClose:function(){return u(!1)},children:[Object(r.jsx)(de.a,{onClick:function(){u(!1),t(Object(be.c)("LoadHex"))},children:"Open Contract from Clipboard"}),Object(r.jsx)(de.a,{onClick:function(){u(!1),t(Object(m.b)())},children:"Open Contract from File"}),Object(r.jsx)(de.a,{onClick:function(){u(!1),t(Object(be.c)("SaveHex"))},children:"Save Contract"}),Object(r.jsx)(de.a,{onClick:function(){u(!1),window.electron.sapio.load_wasm_plugin()},children:"Load WASM Plugin"}),Object(r.jsx)(de.a,{onClick:Object(w.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),e.next=3,window.electron.sapio.load_contract_list();case 3:if(!("err"in(n=e.sent))){e.next=7;break}return alert(n.err),e.abrupt("return");case 7:t(Object(je.f)(n.ok)),t(Object(m.l)("ContractCreator"));case 9:case"end":return e.stop()}}),e)}))),children:"Create New Contract"}),Object(r.jsx)(de.a,{onClick:function(){u(!1),t(Object(m.g)())},children:"Recreate Last Contract"}),Object(r.jsx)(ie.a,{}),Object(r.jsx)(de.a,{onClick:function(){e.relayout()},children:"Repair Layout"})]})]})}function ve(e){var t=Object(s.b)(),n=c.a.useRef(null),a=c.a.useState(!1),i=Object(l.a)(a,2),o=i[0],u=i[1],d=function(){return u(!1)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(oe.a,{disableGutters:!0,button:!1,onClick:function(){return u(!0)},ref:n,children:[Object(r.jsx)(se.a,{}),Object(r.jsx)(ue.a,{primary:"Bitcoin Node"})]},"Bitcoin Node"),Object(r.jsxs)(le.a,{anchorEl:n.current,anchorOrigin:{vertical:"center",horizontal:"right"},keepMounted:!0,open:o,onClose:d,children:[Object(r.jsx)(de.a,{onClick:Object(w.a)(_.a.mark((function t(){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(),t.next=3,e.bitcoin_node_manager.get_new_address();case 3:n=t.sent,window.electron.write_clipboard(n);case 5:case"end":return t.stop()}}),t)}))),children:"Get New Address to Clipboard"}),Object(r.jsx)(de.a,{onClick:function(){d(),e.bitcoin_node_manager.generate_blocks(10).catch((function(e){return console.error(e)}))},children:"Generate 10 Blocks"}),Object(r.jsx)(ie.a,{}),Object(r.jsx)(de.a,{onClick:function(){d(),t(Object(m.m)())},children:"Toggle Status"})]})]})}var me=n(739),ge=n(128),ye=n(319),_e=n.n(ye),we=n(83),ke=(n(1088),n(668)),Ce=n(501),Se=(n(1089),n(59)),Ne=n(194);function Te(e){var t=a.useState([]),n=Object(l.a)(t,2),c=n[0],i=n[1];a.useEffect((function(){var t,n=0,r=[];function a(){return c.apply(this,arguments)}function c(){return(c=Object(w.a)(_.a.mark((function c(){var o,s;return _.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return o=n,c.next=3,window.electron.chat.list_messages_channel(e.channel_id,o);case 3:(s=c.sent).length&&(n=Math.max(C()(s).map((function(e){return e.received_time})).max(),n),r=[].concat(Object(I.a)(r),Object(I.a)(s)),i(r)),t=setTimeout(a,1e3);case 6:case"end":return c.stop()}}),c)})))).apply(this,arguments)}return t=setTimeout(a,0),function(){clearTimeout(t)}}),[]);var o=a.useRef(null);return a.useEffect((function(){o.current&&(o.current.scrollTop=o.current.scrollHeight)}),[c]),Object(r.jsxs)(me.a,{className:"ChatBox",children:[Object(r.jsx)(ge.a,{onClick:e.close,children:" Back "}),Object(r.jsx)(me.a,{className:"MessageArea",ref:o,children:c.map((function(e,t){return Object(r.jsxs)("div",{children:[e.nickname,": ",e.body]},t)}))}),Object(r.jsx)("div",{className:"Typing",children:Object(r.jsx)(Pe,Object(u.a)({},e))})]})}function Pe(e){var t=a.useState(""),n=Object(l.a)(t,2),c=n[0],i=n[1];(Object(Se.a)()||{}).focused;return Object(r.jsx)(me.a,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault()},children:Object(r.jsx)(Ne.a,{fullWidth:!0,children:Object(r.jsxs)(ke.a,{row:!0,sx:{width:"100%"},className:"Typing",children:[Object(r.jsx)(Ce.a,{sx:{width:"75%"},onChange:function(e){return i(e.currentTarget.value)},value:c,autoFocus:!0,type:"text"}),Object(r.jsx)(ge.a,{type:"submit",color:"success",onClick:function(){var t=Object(w.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),""!==c&&(window.electron.chat.send({msg:{Data:c},channel:e.channel_id,sent_time_ms:Date.now()}),i(""));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Send"})]})})})}var Ee=n(670),Ie=n(506),Ae=n(507),Re=n(508),Me=n(669),Be=n(509);function De(e){var t=c.a.useState(null),n=Object(l.a)(t,2),a=n[0],i=n[1],o=c.a.useState(null),s=Object(l.a)(o,2),u=s[0],d=s[1];return Object(r.jsxs)(Ie.a,{onClose:e.hide,open:e.show,children:[Object(r.jsx)(Ae.a,{children:"Create a new User"}),Object(r.jsxs)(Re.a,{children:[Object(r.jsx)(Me.a,{children:"The key and nickname for the new person. Keys must be unique."}),Object(r.jsx)(W.a,{onChange:function(e){return i(e.currentTarget.value)},value:a,autoFocus:!0,margin:"dense",label:"Name",name:"name",type:"text",fullWidth:!0,variant:"standard"}),Object(r.jsx)(W.a,{onChange:function(e){return d(e.currentTarget.value)},value:u,autoFocus:!0,margin:"dense",label:"Key Hash",name:"keyhash",type:"text",fullWidth:!0,variant:"standard"})]}),Object(r.jsxs)(Be.a,{children:[Object(r.jsx)(ge.a,{onClick:e.hide,children:"Cancel"}),Object(r.jsx)(ge.a,{color:"success",onClick:function(){var t=Object(w.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===a||!u){t.next=3;break}return t.next=3,window.electron.chat.add_user(a,u);case 3:e.hide();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Create"})]})]})}function Le(e){var t=c.a.useState(null),n=Object(l.a)(t,2),a=n[0],i=n[1];return Object(r.jsxs)(Ie.a,{onClose:e.hide,open:e.show,children:[Object(r.jsx)(Ae.a,{children:"Create a new channel"}),Object(r.jsxs)(Re.a,{children:[Object(r.jsx)(Me.a,{children:"The name of the new channel to create..."}),Object(r.jsx)(W.a,{onChange:function(e){return i(e.currentTarget.value)},value:a,autoFocus:!0,margin:"dense",label:"Name",name:"name",type:"text",fullWidth:!0,variant:"standard"})]}),Object(r.jsxs)(Be.a,{children:[Object(r.jsx)(ge.a,{onClick:e.hide,children:"Cancel"}),Object(r.jsx)(ge.a,{color:"success",onClick:function(){var t=Object(w.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!==a&&(window.electron.chat.send({msg:{Data:"hello"},channel:a,sent_time_ms:Date.now()}),e.hide()),e.hide();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Create"})]})]})}function Fe(){return a.useEffect((function(){function e(){return(e=Object(w.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.electron.chat.init();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),Object(r.jsxs)(me.a,{className:"Chat",children:[Object(r.jsx)(qe,{}),Object(r.jsx)(Ue,{})]})}var We=[{field:"actions-load",type:"actions",flex:.2,getActions:function(e){return[Object(r.jsx)(we.b,{icon:Object(r.jsx)(_e.a,{}),label:"Open",onClick:function(){}},"open-folder")]}},{field:"nickname",headerName:"NickName",minWidth:100,type:"text",flex:1},{field:"key",headerName:"Key Hash",minWidth:100,type:"text",flex:1}];function qe(){var e=a.useState([]),t=Object(l.a)(e,2),n=t[0],c=t[1];a.useEffect((function(){var e;function t(){return n.apply(this,arguments)}function n(){return(n=Object(w.a)(_.a.mark((function n(){return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.electron.chat.init();case 2:return n.t0=c,n.next=5,window.electron.chat.list_users();case 5:n.t1=n.sent,(0,n.t0)(n.t1),e=setTimeout(t,5e3);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return e=setTimeout(t,0),function(){clearTimeout(e)}}),[]);var i=a.useState(!1),o=Object(l.a)(i,2),s=o[0],d=o[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)(De,{show:s,hide:function(){return d(!1)}}),Object(r.jsx)(we.a,{components:{Toolbar:function(){return Object(r.jsx)(we.c,{children:Object(r.jsxs)(ge.a,{onClick:function(){return d(!0)},children:["New User",Object(r.jsx)(Ee.a,{})]})})}},rows:n.map((function(e){return Object(u.a)({id:e.key},e)})),columns:We,disableExtendRowFullWidth:!1,columnBuffer:3,pageSize:10,rowsPerPageOptions:[5],disableColumnSelector:!0,disableSelectionOnClick:!0})]})}function Ue(){var e=a.useState([]),t=Object(l.a)(e,2),n=t[0],c=t[1];a.useEffect((function(){var e;function t(){return n.apply(this,arguments)}function n(){return(n=Object(w.a)(_.a.mark((function n(){return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=c,n.next=3,window.electron.chat.list_channels();case 3:n.t1=n.sent,(0,n.t0)(n.t1),e=setTimeout(t,5e3);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return e=setTimeout(t,0),function(){clearTimeout(e)}}),[]);var i=a.useState(null),o=Object(l.a)(i,2),s=o[0],d=o[1],j=a.useState(!1),b=Object(l.a)(j,2),f=b[0],h=b[1],p=[{field:"actions-load",type:"actions",flex:.2,getActions:function(e){return[Object(r.jsx)(we.b,{icon:Object(r.jsx)(_e.a,{}),label:"Open",onClick:function(){"string"===typeof e.id&&d(e.id)}},"open-folder")]}},{field:"channel_id",headerName:"Channel",minWidth:100,type:"text",flex:1}];return Object(r.jsxs)("div",{children:[Object(r.jsx)(Le,{show:f,hide:function(){return h(!1)}}),null===s&&Object(r.jsx)(we.a,{components:{Toolbar:function(){return Object(r.jsx)(we.c,{children:Object(r.jsxs)(ge.a,{onClick:function(){return h(!0)},children:["Create New Channel",Object(r.jsx)(Ee.a,{})]})})}},rows:n.map((function(e){return Object(u.a)({id:e.channel_id},e)})),columns:p,disableExtendRowFullWidth:!1,columnBuffer:3,pageSize:10,rowsPerPageOptions:[5],disableColumnSelector:!0,disableSelectionOnClick:!0}),null!==s&&Object(r.jsx)(Te,{channel_id:s,close:function(){d(null)}})]})}n(1090);function He(e){var t="data:image/png;base64,"+e.logo;return Object(r.jsx)("div",{style:{width:"100%",height:"auto",justifyContent:"center",position:"relative",display:"flex"},children:Object(r.jsx)("img",{alt:"logo",src:t,width:"100px",height:"100px"})})}function ze(e){var t=Object(s.b)();return Object(r.jsx)("div",{className:"PluginTile",children:Object(r.jsxs)("a",{onClick:function(){t(Object(je.e)(e.app.key))},children:[He(e.app),Object(r.jsx)("div",{children:e.app.name})]})})}var Ve=n(74);n(1167);function Ge(e){var t=Object(s.b)(),n=function(){var e=Object(w.a)(_.a.mark((function e(n,r){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.formData,t(Object(m.l)("ContractViewer")),e.next=4,t(Object(m.c)(r,null,JSON.stringify(a)));case 4:t(Object(je.h)(!1));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a=c.a.useState({}),i=Object(l.a)(a,2),o=i[0],u=i[1],d=function(){var e=Object(w.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:t=e.sent,u(JSON.parse(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"PluginForm",children:[Object(r.jsx)("div",{}),Object(r.jsxs)("div",{children:[He(e.app),Object(r.jsx)(ge.a,{onClick:d,children:"Paste"}),Object(r.jsx)(Ve.a,{formData:o,schema:e.app.api,onSubmit:function(t){return n(t,e.app.key)}})]}),Object(r.jsx)("div",{})]})}function Ke(){Object(s.b)();var e=Object(s.c)(je.b),t=Object(s.c)(je.c);if(null!==e)return Object(r.jsx)("div",{children:Object(r.jsx)(Ge,{app:e})});var n=Array.from(t,(function(e,t){var n=Object(l.a)(e,2),a=(n[0],n[1]);return Object(r.jsx)(ze,{app:a})}));return Object(r.jsxs)("div",{className:"PluginSelectorGrid",children:[Object(r.jsx)("div",{className:"back"}),Object(r.jsx)("div",{className:"middle",children:n}),Object(r.jsx)("div",{className:"forward"})]})}n(1168);function Je(){var e=Object(s.b)(),t=null===Object(s.c)(je.b)?null:Object(r.jsx)(ge.a,{onClick:function(){return e(Object(je.e)(null))},children:"Back"});return Object(r.jsx)(d.a,{square:!0,className:"PluginPage",children:Object(r.jsxs)("div",{children:[t,Object(r.jsx)(N.a,{variant:"h3",children:"Applications"}),Object(r.jsx)(Ke,{})]})})}var Xe=a.memo(Je),$e=n(44),Ye=n(50);function Ze(){var e=Object($e.a)(["\n    height: 100%;\n    background-color: "," !important;\n    background-size: 100px 100px;\n    display: flex;\n    > * {\n        height: 100%;\n        min-height: 100%;\n        width: 100%;\n    }\n    background-image: linear-gradient(\n            0deg,\n            transparent 24%,\n            "," 25%,\n            "," 26%,\n            transparent 27%,\n            transparent 74%,\n            "," 75%,\n            "," 76%,\n            transparent 77%,\n            transparent\n        ),\n        linear-gradient(\n            90deg,\n            transparent 24%,\n            "," 25%,\n            "," 26%,\n            transparent 27%,\n            transparent 74%,\n            "," 75%,\n            "," 76%,\n            transparent 77%,\n            transparent\n        );\n"]);return Ze=function(){return e},e}var Qe=Ye.default.div(Ze(),(function(e){return e.background}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}));function et(e){return Object(r.jsx)(Qe,{background:e.background||"rgb(60,60,60)",color:e.color||"rgba(255,255,255, 0.05)",children:e.children})}var tt=n(41),nt=n(42),rt=n(137),at=0,ct=new Map,it=Q()("transparent").toString();function ot(e){var t=Object(T.b)(rt.a.getState())/1e3,n=100/60/t;if(t<.001){var r,a=Object(D.a)(ct);try{for(a.s();!(r=a.n()).done;){var c=Object(l.a)(r.value,2),i=(c[0],c[1]);i.circle.current&&i.path&&(i.show&&(i.color.current=it,i.white.current=it))}}catch(x){a.e(x)}finally{a.f()}requestAnimationFrame(st),setTimeout((function(){return ot(e)}),50)}else{var o,s=e/100,u=2*Math.abs(s-.5),d=Q()("orange").fade(u).toString(),j=Q()("white").fade(u).toString(),b=Object(D.a)(ct);try{for(b.s();!(o=b.n()).done;){var f=Object(l.a)(o.value,2),h=(f[0],f[1]);if(h.path.current){var p=h.path.current.getPointAtLength(h.path.current.getTotalLength()*s||0);p&&(h.x.current=p.x,h.y.current=p.y),h.show.current?(h.color.current=d,h.white.current=j):(h.color.current=it,h.white.current=it)}}}catch(x){b.e(x)}finally{b.f()}requestAnimationFrame(st),e=(e+n)%101,setTimeout((function(){return ot(e)}),1e3/60)}}function st(){var e,t=Object(D.a)(ct);try{for(t.s();!(e=t.n()).done;){var n,r,a,c,i,o,s=Object(l.a)(e.value,2),u=(s[0],s[1]);u.circle&&u.path&&u.text&&(null===(n=u.circle.current)||void 0===n||n.setAttribute("fill",u.color.current),null===(r=u.circle.current)||void 0===r||r.setAttribute("cx",u.x.current.toString()),null===(a=u.circle.current)||void 0===a||a.setAttribute("cy",u.y.current.toString()),null===(c=u.text.current)||void 0===c||c.setAttribute("x",u.x.current.toString()),null===(i=u.text.current)||void 0===i||i.setAttribute("y",u.y.current.toString()),null===(o=u.text.current)||void 0===o||o.setAttribute("fill",u.white.current))}}catch(d){t.e(d)}finally{t.f()}}var ut=!1;function lt(e){var t=Object(s.c)(L.a);a.useEffect((function(){ut||(ut=!0,ot(0))}));var n=a.useRef(!1),c=a.useRef(null),i=a.useRef(null),o=a.useRef(null),u=a.useRef(0),l=a.useRef(0),d=Object(h.a)(),j="exclusive"===e.model.link_type?d.palette.secondary.light:d.palette.primary.light,b=a.useRef("none"),f=a.useRef("white"),p=at++,x=a.useRef(!0);ct.set(p,{circle:c,path:o,text:i,x:u,y:l,color:b,white:f,show:x});var O=Q()(j).fade(.8).toString();return a.useEffect((function(){var n,r=e.model.linked_to,a=!1;if(r)switch(r.constructor){case M.b:a=t(r.get_txid())}x.current=a,null===(n=o.current)||void 0===n||n.setAttribute("stroke",a?j:O)}),[t]),a.useEffect((function(){return n.current=!0,function(){n.current=!1,ct.delete(p)}})),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("path",{fill:"none",strokeLinecap:"square",ref:function(e){o.current=e},stroke:j,strokeWidth:e.model.getOptions().width,d:e.path}),Object(r.jsx)("circle",{ref:function(e){c.current=e},r:7.5}),Object(r.jsx)("text",{textAnchor:"middle",ref:function(e){i.current=e},fontSize:"12px",alignmentBaseline:"middle",children:"\u20bf"})]})}var dt=n(275),jt=n(78),bt=function(e){Object(tt.a)(n,e);var t=Object(nt.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(R.a)(n,[{key:"generateLink",value:function(e,t,n){var c=this,i=this.props.link,o=a.cloneElement((new ft).generateLinkSegment(i,this.state.selected||this.props.link.isSelected(),e),{ref:function(e){return e&&c.refPaths.push(e)}});Object(u.a)(Object(u.a)({},t),{},{strokeLinecap:"round",onMouseLeave:function(){c.setState({selected:!1})},onMouseEnter:function(){c.setState({selected:!0})},ref:null,"data-linkid":this.props.link.getID(),strokeOpacity:this.state.selected?.1:0,strokeWidth:20,onContextMenu:function(e){}});return Object(r.jsx)("g",{children:o},"link-"+n)}},{key:"render",value:function(){var e=this,t=this.props.link.getPoints(),n=[];if(this.refPaths=[],2===t.length)n.push(this.generateLink(this.props.link.getSVGPath(),{onMouseDown:function(t){e.addPointToLink(t,1)}},"0")),null==this.props.link.getTargetPort()&&n.push(this.generatePoint(t[1]));else{for(var a=function(r){n.push(e.generateLink(jt.LinkWidget.generateLinePath(t[r],t[r+1]),{"data-linkid":e.props.link.getID(),"data-point":r,onMouseDown:function(t){e.addPointToLink(t,r+1)}},r))},c=0;c<t.length-1;c++)a(c);for(var i=1;i<t.length-1;i++)n.push(this.generatePoint(t[i]));null==this.props.link.getTargetPort()&&n.push(this.generatePoint(t[t.length-1]))}return Object(r.jsx)("g",{"data-default-link-test":this.props.link.getOptions().testName,children:n})}}]),n}(O.DefaultLinkWidget),ft=function(e){Object(tt.a)(n,e);var t=Object(nt.a)(n);function n(){return Object(A.a)(this,n),t.call(this,"spend")}return Object(R.a)(n,[{key:"generateModel",value:function(e){return new dt.a}}]),Object(R.a)(n,[{key:"generateLinkSegment",value:function(e,t,n){return Object(r.jsx)("g",{children:Object(r.jsx)(lt,{model:e,path:n})})}},{key:"generateReactWidget",value:function(e){return Object(r.jsx)(bt,{link:e.model,diagramEngine:this.engine})}}]),n}(O.DefaultLinkFactory),ht=n(403),pt=(n(1169),n(45)),xt=n(276);function Ot(e){var t=Object(s.c)(Object(xt.c)(e.t)),n=Object(h.a)();switch(t){case void 0:case null:case"Confirmed":return null;case"InMempool":return Object(r.jsx)("div",{style:{background:n.palette.info.light,color:n.palette.info.contrastText,textAlign:"center"},children:"In Mempool"});case"Unknown":case"Broadcastable":case"NotBroadcastable":return Object(r.jsx)("div",{style:{background:n.palette.warning.light,color:n.palette.warning.contrastText,textAlign:"center"},children:"UNCONFIRMED"});case"Impossible":return Object(r.jsx)("div",{style:{background:n.palette.error.light,color:n.palette.error.contrastText,textAlign:"center"},children:"Conflicted"})}}function vt(){var e=Object($e.a)(["\n    display: flex;\n    background-color: ",";\n    color: ",";\n"]);return vt=function(){return e},e}function mt(){var e=Object($e.a)(["\n    display: flex;\n    background-color: ",";\n    color: ",";\n"]);return mt=function(){return e},e}function gt(){var e=Object($e.a)(["\n    flex-grow: 1;\n    padding: 5px 5px;\n"]);return gt=function(){return e},e}function yt(){var e=Object($e.a)(["\n    background: ",";\n    color: ",";\n    display: flex;\n    white-space: nowrap;\n    justify-items: center;\n"]);return yt=function(){return e},e}function _t(){var e=Object($e.a)(["\n    color: white;\n    overflow: visible;\n    font-size: 11px;\n    box-shadow: ",";\n\n    &.unreachable:after {\n        content: '';\n        z-index: 2;\n        position: absolute;\n        top: 0;\n        left: 0;\n        height: 100%;\n        width: 100%;\n        background: rgba(0, 0, 0, 0.7);\n        box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.9);\n        background-clip: border-box;\n    }\n"]);return _t=function(){return e},e}var wt=Ye.default.div(_t(),(function(e){return e.selected?"4px 1px 10px rgba(0,192,255,0.5)":"none"})),kt=Ye.default.div(yt(),(function(e){return e.color}),(function(e){return e.textColor})),Ct=Ye.default.div(gt()),St=Ye.default.div(mt(),(function(e){return e.color}),(function(e){return e.textColor})),Nt=Ye.default.div(vt(),(function(e){return e.color}),(function(e){return e.textColor})),Tt=function(e){Object(tt.a)(n,e);var t=Object(nt.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(R.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"PortsContainerTop",children:this.props.children})}}]),n}(a.Component),Pt=function(e){Object(tt.a)(n,e);var t=Object(nt.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(R.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"PortsContainerBottom",children:this.props.children})}}]),n}(a.Component);function Et(e){var t,n,a=Object(s.c)(pt.e),c=e.node.getOptions(),i=Object(s.c)(L.a)(c.txn.getId()),o=null!==(t=Object(s.c)(Object(pt.g)(c.txn.getId())))&&void 0!==t?t:Q()(c.color),u=null!==(n=Object(s.c)(Object(pt.h)(c.txn.getId())))&&void 0!==n?n:c.purpose,l=function(t){return Object(r.jsx)(O.DefaultPortLabel,{engine:e.engine,port:t},t.getID())},d=o.alpha(.2).toString(),j=Object(h.a)(),b=j.palette.text.primary,f="TXN"===a[0]&&a[1]===c.txn.getId();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(St,{color:"transparent",textColor:b,style:{justifyContent:"center"},children:Object(r.jsx)(Tt,{children:k.map(e.node.getInPorts(),l)})}),Object(r.jsx)(wt,{"data-default-node-name":c.name,selected:f,background:c.color,className:(i?"reachable":"unreachable")+" TransactionNode",children:Object(r.jsxs)("div",{children:[Object(r.jsxs)(kt,{color:d,textColor:b,children:[Object(r.jsx)(Ct,{children:"Transaction"}),Object(r.jsx)(Ct,{children:c.name})]}),Object(r.jsx)(Ot,{t:c.txn.getId()}),Object(r.jsx)(kt,{color:d,textColor:b,children:Object(r.jsx)(Ct,{children:u})}),Object(r.jsx)(Nt,{color:j.palette.primary.light,textColor:j.palette.primary.contrastText,children:Object(r.jsx)(Pt,{children:k.map(e.node.getOutPorts(),l)})})]})})]})}var It=function(e){Object(tt.a)(n,e);var t=Object(nt.a)(n);function n(){return Object(A.a)(this,n),t.call(this,"transaction-node")}return Object(R.a)(n,[{key:"generateModel",value:function(e){return new ht.a}},{key:"generateReactWidget",value:function(e){return console.log(this),Object(r.jsx)(Et,{engine:this.engine,node:e.model})}}]),n}(x.AbstractReactFactory),At=n(402);n(1170);function Rt(){var e=Object($e.a)(["\n    display: flex;\n    background: ",";\n    color: ",";\n"]);return Rt=function(){return e},e}function Mt(){var e=Object($e.a)(["\n    display: flex;\n    color: ",";\n    background-color: ",";\n"]);return Mt=function(){return e},e}function Bt(){var e=Object($e.a)(["\n    flex-grow: 1;\n    padding: 5px 5px;\n"]);return Bt=function(){return e},e}function Dt(){var e=Object($e.a)(["\n    background: ",";\n    color: ",";\n    display: flex;\n    width: 100%;\n    white-space: nowrap;\n    justify-items: center;\n    text-align: center;\n"]);return Dt=function(){return e},e}function Lt(){var e=Object($e.a)(["\n    color: white;\n    overflow: hidden;\n    font-size: 11px;\n    border-radius: 25%;\n    box-shadow: ",";\n    &.unreachable:after {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        height: 100%;\n        width: 100%;\n        background: rgba(0, 0, 0, 0.7);\n        box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.9);\n        border-radius: 25%;\n        background-clip: border-box;\n    }\n"]);return Lt=function(){return e},e}Q()("white").toString(),Q()("black").toString(),Q()("yellow").fade(.2).toString();var Ft=Ye.default.div(Lt(),(function(e){return e.selected?"4px 1px 10px rgba(0,192,255,0.5)":"none"})),Wt=Ye.default.div(Dt(),(function(e){return e.color}),(function(e){return e.textColor})),qt=Ye.default.div(Bt()),Ut=Ye.default.div(Mt(),(function(e){return e.textColor}),(function(e){return e.color})),Ht=Ye.default.div(Rt(),(function(e){return e.color}),(function(e){return e.textColor})),zt=function(e){Object(tt.a)(n,e);var t=Object(nt.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(R.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"PortsContainerUTXOTop",children:this.props.children})}}]),n}(a.Component),Vt=function(e){Object(tt.a)(n,e);var t=Object(nt.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(R.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"PortsContainerUTXOBottom",children:this.props.children})}}]),n}(a.Component);function Gt(e){var t,n=Object(s.c)(pt.e),c=Object.keys(null!==(t=Object(s.c)(je.d)("".concat(e.node.getOptions().txid,":").concat(e.node.getOptions().index)))&&void 0!==t?t:{}).length>0,i=a.useState(Math.random()),o=Object(l.a)(i,2),u=o[0],d=(o[1],Object(s.c)(L.a)(e.node.getOptions().txid)),j=a.useState(e.node.getAmount()),b=Object(l.a)(j,2),f=b[0],p=b[1];a.useEffect((function(){var t=e.node.registerListener({sync:function(t){return p(e.node.getAmount())}});return function(){e.node.deregisterListener(t)}}));var x=function(t){return Object(r.jsx)(O.DefaultPortLabel,{engine:e.engine,port:t},t.getID())},v=k.map(e.node.getInPorts(),x),m=k.map(e.node.getOutPorts(),x),g=Object(h.a)(),y=g.palette.text.primary,_=0===v.length?null:Object(r.jsx)(Ut,{color:"transparent",textColor:y,children:Object(r.jsx)(zt,{children:v},"inputs")},"ports"),w=0===m.length?null:Object(r.jsx)(Ht,{color:g.palette.secondary.light,textColor:g.palette.secondary.contrastText,children:Object(r.jsx)(Vt,{children:m},"outputs")}),C=c?Object(r.jsx)("div",{style:{background:g.palette.info.light,color:g.palette.info.contrastText,textAlign:"center"},children:"UPDATABLE"}):null,S=d?"reachable":"unreachable",N=Q()(e.node.getOptions().color).alpha(.2).toString(),T=e.node.getOptions(),P="UTXO"===n[0]&&n[1].hash===T.txid&&n[1].nIn===T.index;return Object(r.jsxs)("div",{children:[_,Object(r.jsx)("div",{style:{position:"relative"},children:Object(r.jsxs)(Ft,{"data-default-utxonode-name":e.node.getOptions().name,selected:P,className:S,children:[Object(r.jsx)(Wt,{color:N,textColor:y,children:Object(r.jsx)(qt,{children:e.node.getOptions().name})}),C,Object(r.jsx)(Ot,{t:e.node.getOptions().txid}),Object(r.jsx)(Wt,{color:N,textColor:y,children:Object(r.jsx)(qt,{children:Object(te.b)(f)})}),w]},u)})]})}var Kt=function(e){Object(tt.a)(n,e);var t=Object(nt.a)(n);function n(){return Object(A.a)(this,n),t.call(this,"utxo-node")}return Object(R.a)(n,[{key:"generateModel",value:function(e){return new At.a}},{key:"generateReactWidget",value:function(e){return Object(r.jsx)(Gt,{engine:this.engine,node:e.model})}}]),n}(x.AbstractReactFactory),Jt=n(43),Xt=n(73),$t=n(724),Yt=n(277),Zt=n(725),Qt=(n(1174),n(227)),en=n(197),tn=n(703),nn=n(157),rn=n(192),an=n(727),cn=n.n(an),on=n(409),sn=n.n(on),un=n(728),ln=n.n(un),dn=n(726),jn=n.n(dn),bn=(n(1175),function(){function e(t){Object(A.a)(this,e),this.show_flash=void 0,this.show_flash=t}return Object(R.a)(e,[{key:"combine_psbt",value:function(){var e=Object(w.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Jt.Psbt,e.next=3,window.electron.fetch_psbt();case 3:e.t1=e.sent,n=e.t0.fromBase64.call(e.t0,e.t1);try{t.combine(n),this.show_flash("PSBT Combined","green")}catch(a){this.show_flash(Object(r.jsxs)("div",{children:["PSBT Error"," ",Object(r.jsx)("span",{className:"glyphicon glyphicon-question-sign"})]}),"red",(function(){return alert(a.toString())}))}case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sign_psbt",value:function(){var e=Object(w.a)(_.a.mark((function e(t){var n,r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{method:"walletprocesspsbt",parameters:[t]}],e.next=3,window.electron.bitcoin_command(n);case 3:return r=e.sent[0],a=Jt.Psbt.fromBase64(r.psbt),r.complete?this.show_flash("Fully Signed","green"):this.show_flash("Partial Signed","red"),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"finalize_psbt",value:function(){var e=Object(w.a)(_.a.mark((function e(t){var n,a,c,i,o,s,u,l,d,j;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[{method:"finalizepsbt",parameters:[t]}],e.next=3,window.electron.bitcoin_command(a);case 3:if(!(!(c=e.sent[0]).hex&&c.complete||c.hex&&!c.complete)){e.next=7;break}return this.show_flash("PSBT Signing Error :(","red"),e.abrupt("return");case 7:if(!c.complete){e.next=11;break}n=c.hex,e.next=25;break;case 11:return o=null!==(i=c.psbt)&&void 0!==i?i:t,e.next=14,window.electron.sapio.psbt.finalize(o);case 14:if(!("err"in(s=e.sent))){e.next=18;break}return this.show_flash("PSBT Signing Error :(","red"),e.abrupt("return");case 18:if(!(u=JSON.parse(s.ok)).completed){e.next=23;break}n=u.hex,e.next=25;break;case 23:return this.show_flash("PSBT Not Complete","red"),e.abrupt("return");case 25:return e.prev=25,l=Jt.Transaction.fromHex(n),d=[{method:"sendrawtransaction",parameters:[n]}],e.next=30,window.electron.bitcoin_command(d);case 30:(j=e.sent[0])!==l.getId()?this.show_flash(Object(r.jsxs)("div",{children:["Relay Error"," ",Object(r.jsx)("span",{className:"glyphicon glyphicon-question-sign"})]}),"red",(function(){return alert(j.message.toString())})):this.show_flash("Transaction Relayed!","green"),e.next=37;break;case 34:e.prev=34,e.t0=e.catch(25),this.show_flash(Object(r.jsxs)("div",{children:["PSBT Error"," ",Object(r.jsx)("span",{className:"glyphicon glyphicon-question-sign"})]}),"red",(function(){return alert(e.t0.toString())}));case 37:case"end":return e.stop()}}),e,this,[[25,34]])})));return function(t){return e.apply(this,arguments)}}()},{key:"save_psbt",value:function(){var e=Object(w.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.electron.save_psbt(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}());function fn(e){var t=c.a.useRef(null),n=c.a.useState(e.psbts[0]),a=Object(l.a)(n,2),i=a[0],o=a[1],s=c.a.useState(null),u=Object(l.a)(s,2),d=u[0],j=u[1];if(0===e.psbts.length)return null;var b=new bn((function(e,t,n){var a=null!==n&&void 0!==n?n:function(){return null};j(Object(r.jsx)("h3",{style:{color:t},onClick:a,children:e})),setTimeout((function(){return j(Object(r.jsx)("div",{}))}),2e3)})),f=e.psbts.map((function(e,t){return Object(r.jsxs)(de.a,{value:t,children:[t," -- ",e.toBase64().substr(0,16),"..."]},t)}));return Object(r.jsxs)("div",{className:"PSBTDetail",children:[Object(r.jsx)(Qt.a,{id:"label-select-psbt",children:"PSBT Selection"}),Object(r.jsx)(en.a,{labelId:"label-select-psbt",label:"PSBT Selection",variant:"outlined",ref:t,onChange:function(){var n,r,a,c=null!==(n=parseInt(null!==(r=null===(a=t.current)||void 0===a?void 0:a.value)&&void 0!==r?r:"0"))&&void 0!==n?n:0;c<e.psbts.length&&c>=0&&o(e.psbts[c])},children:f}),d,Object(r.jsx)(Xt.c,{className:"txhex",value:i.toBase64(),label:"Selected PSBT"}),Object(r.jsxs)("div",{className:"PSBTActions",children:[Object(r.jsx)(q.a,{title:"Save PSBT to Disk",children:Object(r.jsx)(U.a,{"aria-label":"save-psbt-disk",onClick:function(){return b.save_psbt(i.toBase64())},children:Object(r.jsx)(sn.a,{style:{color:G.a[500]}})})}),Object(r.jsx)(q.a,{title:"Sign PSBT using Node",children:Object(r.jsx)(U.a,{"aria-label":"sign-psbt-node",onClick:Object(w.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.sign_psbt(i.toBase64());case 2:t=e.sent,i.combine(t),o(i);case 5:case"end":return e.stop()}}),e)}))),children:Object(r.jsx)(jn.a,{style:{color:tn.a[500]}})})}),Object(r.jsx)(q.a,{title:"Combine PSBT from File",children:Object(r.jsx)(U.a,{"aria-label":"combine-psbt-file",onClick:Object(w.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.combine_psbt(i);case 2:o(i);case 3:case"end":return e.stop()}}),e)}))),children:Object(r.jsx)(cn.a,{style:{color:nn.a[500]}})})}),Object(r.jsx)(q.a,{title:"Finalize and Broadcast PSBT with Node",children:Object(r.jsx)(U.a,{"aria-label":"combine-psbt-file",onClick:Object(w.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.finalize_psbt(i.toBase64());case 2:o(i);case 3:case"end":return e.stop()}}),e)}))),children:Object(r.jsx)(ln.a,{style:{color:rn.a[500]}})})}),Object(r.jsx)("div",{})]})]})}function hn(e){var t,n=Object(s.c)(pt.e),a="TXN"===n[0]&&null!==(t=te.d.get_by_txid_s(e.current_contract.txid_map,n[1]))&&void 0!==t?t:null;return Object(r.jsx)("div",{hidden:null===a,children:a&&Object(r.jsx)(pn,{entity:a,find_tx_model:e.find_tx_model})})}function pn(e){var t,n,a=Object(s.b)(),c=e.entity.getOptions(),i=c.txn.getId(),o=null!==(t=Object(s.c)(Object(pt.g)(i)))&&void 0!==t?t:Q()(c.color),u=null!==(n=Object(s.c)(Object(pt.h)(i)))&&void 0!==n?n:c.purpose,l=e.entity.utxo_models.map((function(e,t){return Object(r.jsx)(Zt.a,{txoutput:e},"".concat(e.getOptions().txid,":").concat(e.getOptions().index))})),d=e.entity.tx.ins.map((function(t,n){var a=e.entity.witness_set.witnesses.flatMap((function(e){var t=e[n];return t?[t]:[]}));return Object(r.jsx)($t.a,{txinput:t,witnesses:a},Object(te.i)({hash:Object(te.g)(t.hash),nIn:t.index}))})),j=function(e){var t,n=e.ins.map((function(e){return e.sequence})),a=0,c=0,i=!1,o=Object(D.a)(n);try{for(o.s();!(t=o.n()).done;){var s=t.value;if(s!==Jt.Transaction.DEFAULT_SEQUENCE){i=!0;var u=Object(te.j)(s),l=u.relative_time,d=u.relative_height;a=Math.max(l,a),c=Math.max(d,c)}}}catch(h){o.e(h)}finally{o.f()}var j=Object(te.k)(a),b=0===a?null:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{children:"Relative Lock Time: "}),Object(r.jsxs)("span",{children:[j," "]})]}),f=0===c?null:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{children:"Relative Height: "}),Object(r.jsxs)("span",{children:[c," Blocks"]})]});return{greatest_relative_height:c,greatest_relative_time:a,locktime_enable:i,relative_time_jsx:b,relative_height_jsx:f}}(e.entity.tx),b=(j.greatest_relative_height,j.greatest_relative_time,j.locktime_enable),f=j.relative_time_jsx,h=j.relative_height_jsx,p=e.entity.tx.locktime,x=new Date(1970,0,1);x.setSeconds(p);var O=b&&0!==p?p<5e8?"Block #"+p.toString():x.toUTCString()+" MTP":"None",v=C.a.debounce((function(e){var t=new Q.a(e);a(Object(pt.m)([i,t.hex()]))}),30),m=C.a.debounce((function(e){a(Object(pt.n)([i,e]))}),30),g=b&&0!==p?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{children:"Absolute Lock Time:"}),Object(r.jsxs)("span",{children:[" ",O," "]})]}):null;return Object(r.jsxs)("div",{className:"TransactionDetail",children:[Object(r.jsx)(W.a,{label:"Purpose",defaultValue:u,onChange:function(e){m(e.target.value)}}),Object(r.jsx)(W.a,{label:"Color "+o.hex(),defaultValue:o.hex(),fullWidth:!0,type:"color",onChange:function(e){v(e.target.value)}}),Object(r.jsx)(ie.a,{}),Object(r.jsx)(Yt.c,{txid:e.entity.get_txid()}),Object(r.jsx)(fn,{psbts:e.entity.witness_set.psbts}),Object(r.jsx)(Xt.c,{value:e.entity.tx.toHex(),className:"txhex",label:"Tx Hex"}),Object(r.jsxs)("div",{className:"properties",children:[g,h,f]}),Object(r.jsx)(ie.a,{}),Object(r.jsx)(N.a,{variant:"h5",children:" Inputs"}),Object(r.jsx)("div",{className:"inputs",children:d}),Object(r.jsx)(ie.a,{}),Object(r.jsx)(N.a,{variant:"h5",children:" Outputs "}),Object(r.jsx)("div",{className:"outputs",children:l})]})}var xn=n(729);n(1177);function On(e){var t=Object(h.a)(),n=Object(s.b)(),a=c.a.useState("20em"),i=Object(l.a)(a,2),o=i[0],u=i[1],d=function e(t){t.preventDefault(),document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",e)},j=function(e){e.preventDefault();var t=(window.innerWidth-e.clientX).toString()+"px";u(t)};return Object(r.jsxs)("div",{className:"EntityViewerFrame",style:{backgroundColor:Q()(t.palette.background.default).fade(.2).toString()},children:[Object(r.jsx)("div",{className:"EntityViewerResize",onMouseDown:function(e){e.preventDefault(),document.addEventListener("mousemove",j),document.addEventListener("mouseup",d)}}),Object(r.jsxs)("div",{children:[Object(r.jsx)(q.a,{title:"Close Entity Viewer",children:Object(r.jsx)(U.a,{"aria-label":"close-entity-viewer",onClick:function(){return n(Object(pt.c)())},children:Object(r.jsx)(X.a,{style:{color:G.a[500]}})})}),Object(r.jsxs)("div",{className:"EntityViewer",style:{width:o},children:[Object(r.jsx)(hn,{current_contract:e.current_contract,find_tx_model:function(t,n){return e.current_contract.lookup_utxo_model(t,n)}}),Object(r.jsx)(xn.a,{contract:e.current_contract})]})]})]})}var vn=n(732),mn="data";function gn(e){var t=c.a.useRef(null),n=Object(s.b)();return Object(r.jsxs)(Ie.a,{open:e.show,onClose:function(){return n(Object(be.a)())},children:[Object(r.jsx)(Ae.a,{children:"Paste Hex JSON"}),Object(r.jsxs)(Re.a,{children:[Object(r.jsx)(Me.a,{children:Object(r.jsx)("p",{children:"The data pasted must be output through Sapio Studio."})}),Object(r.jsx)("form",{ref:t,children:Object(r.jsx)(W.a,{name:mn,multiline:!0,fullWidth:!0})})]}),Object(r.jsxs)(Be.a,{children:[Object(r.jsx)(ge.a,{onClick:function(){if(t.current){var e=t.current.elements.namedItem(mn);e&&e.value&&n(Object(m.e)(JSON.parse(e.value)))}n(Object(be.a)())},children:"Load"}),Object(r.jsx)(ge.a,{onClick:function(){return n(Object(be.a)())},children:"Close"})]})]})}function yn(e){var t=Object(s.b)();return Object(r.jsxs)(Ie.a,{open:e.show,onClose:function(){return t(Object(be.a)())},children:[Object(r.jsx)(Ae.a,{children:"Set Contract Generator URL"}),Object(r.jsx)(Re.a,{children:Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();e.currentTarget;t(Object(be.a)())},children:[Object(r.jsx)(W.a,{name:"ws",type:"text",placeholder:"url",label:"Websocket"}),Object(r.jsx)(ge.a,{type:"submit",children:"Set"})]})}),Object(r.jsx)(Be.a,{children:Object(r.jsx)(ge.a,{onClick:function(){return t(Object(be.a)())},children:"Close"})})]})}function _n(e){var t=Object(s.b)(),n=e.contract.txn_models.filter((function(t){return-1!==t.tx.ins.findIndex((function(t){return te.d.has_by_txid(e.contract.txid_map,Object(te.l)(t.hash))}))})),a=JSON.stringify({program:n.map((function(e){return e.get_json()}))},void 0,4);return Object(r.jsxs)(Ie.a,{open:e.show,onClose:function(){return t(Object(be.a)())},fullScreen:!0,children:[Object(r.jsx)(Ae.a,{children:"Contract JSON"}),Object(r.jsx)(Re.a,{children:Object(r.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(r.jsx)(W.a,{name:"data",multiline:!0,fullWidth:!0,type:"text","aria-readonly":!0,InputProps:{readOnly:!0},defaultValue:a,style:{minHeight:"50vh"}})})}),Object(r.jsxs)(Be.a,{children:[Object(r.jsx)(ge.a,{onClick:function(){window.electron.save_contract(a)},children:"Save"}),Object(r.jsx)(ge.a,{onClick:function(){return t(Object(be.a)())},children:"Close"})]})]})}function wn(e){var t=Object(s.b)();return Object(r.jsxs)(Ie.a,{open:e.show,onClose:function(){return t(Object(be.a)())},children:[Object(r.jsx)(Ae.a,{children:"View Existing Contract"}),Object(r.jsx)(Re.a,{children:Object(r.jsxs)("form",{children:[Object(r.jsx)(en.a,{placeholder:"Existing Contract",className:" mr-sm-2"}),Object(r.jsx)(ge.a,{type:"submit",children:"View"})]})}),Object(r.jsx)(Be.a,{children:Object(r.jsx)(ge.a,{onClick:function(){return t(Object(be.a)())},children:"Close"})})]})}function kn(e){Object(s.b)();var t=Object(s.c)(be.d);return Object(r.jsxs)("div",{children:[Object(r.jsx)(wn,{show:"ViewContract"===t,bitcoin_node_manager:e.bitcoin_node_manager}),Object(r.jsx)(yn,{show:"SapioServer"===t}),Object(r.jsx)(gn,{show:"LoadHex"===t}),Object(r.jsx)(_n,{show:"SaveHex"===t,contract:e.contract})]})}var Cn=n(711),Sn=n(706),Nn=n(733);function Tn(e){var t,n,a=c.a.useState(e.value),i=Object(l.a)(a,2),o=i[0],s=i[1];return c.a.useEffect((function(){e.onChange(o)}),[o]),Object(r.jsxs)("div",{children:[Object(r.jsx)(N.a,{children:null!==(t=e.value)&&void 0!==t?t:"None Selected"}),Object(r.jsx)(ge.a,{onClick:Object(w.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.electron.select_filename();case 2:(t=e.sent)&&s(t);case 4:case"end":return e.stop()}}),e)}))),children:null!==(n=e.name)&&void 0!==n?n:"Select File"})]})}var Pn={"custom::filename":Tn},En=n(708),In=(n(1179),{bitcoin:{$schema:"http://json-schema.org/draft-07/schema#",definitions:{Auth:{oneOf:[{enum:["None"],type:"string"},{additionalProperties:!1,properties:{UserPass:{items:[{type:"string"},{$ref:"#/definitions/Password"}],maxItems:2,minItems:2,type:"array"}},required:["UserPass"],title:"Username / Password",type:"object"},{additionalProperties:!1,properties:{CookieFile:{$ref:"#/definitions/File"}},required:["CookieFile"],title:"Cookie File",type:"object"}],title:"Auth File"},File:{format:"custom::filename",type:"string"},Network:{enum:["Bitcoin","Testnet","Signet","Regtest"],type:"string"},Password:{format:"password",type:"string"}},properties:{auth:{allOf:[{$ref:"#/definitions/Auth"}],title:"Credentials"},host:{description:"E.g., 0.0.0.0 or mynode.com",title:"Host",type:"string"},network:{allOf:[{$ref:"#/definitions/Network"}],title:"Which Network"},port:{format:"uint64",minimum:0,title:"RPC Port",type:"integer"}},required:["auth","host","network","port"],title:"Bitcoin Settings",type:"object"},display:{$schema:"http://json-schema.org/draft-07/schema#",definitions:{AnimationSpeed:{oneOf:[{enum:["Disabled"],type:"string"},{additionalProperties:!1,properties:{Enabled:{format:"uint64",maximum:5e3,minimum:50,type:"integer"}},required:["Enabled"],title:"Enable Animation (ms)",type:"object"}],title:"Animation Speed"},SatsOrBitcoin:{oneOf:[{additionalProperties:!1,description:"min = 0, max = 100000000 (1 btc)",properties:{BitcoinAfter:{format:"uint64",maximum:1e8,minimum:0,type:"integer"}},required:["BitcoinAfter"],title:"After Threshold",type:"object"},{additionalProperties:!1,properties:{AlwaysSats:{type:"null"}},required:["AlwaysSats"],title:"Always Sats",type:"object"},{additionalProperties:!1,properties:{AlwaysBitcoin:{type:"null"}},required:["AlwaysBitcoin"],title:"Always Bitcoin",type:"object"}],title:"To Show Sats or Bitcoin"}},properties:{animation_speed:{allOf:[{$ref:"#/definitions/AnimationSpeed"}],description:"The speed (in ms) to animate at",title:"Animation Speed"},node_polling_freq:{format:"uint64",minimum:0,title:"Bitcoin Node Polling Frequency (seconds)",type:"integer"},satoshis:{allOf:[{$ref:"#/definitions/SatsOrBitcoin"}],title:"Threshold at which to display Bitcoin () or Sats ()"}},required:["animation_speed","node_polling_freq","satoshis"],title:"Display Settings",type:"object"},local_oracle:{$schema:"http://json-schema.org/draft-07/schema#",definitions:{File:{format:"custom::filename",type:"string"}},description:"If Sapio Studio should run a local oracle, what seed file and interface to use.",oneOf:[{enum:["Disabled"],type:"string"},{additionalProperties:!1,description:"An oracle will be run & managed by Sapio Studio",properties:{Enabled:{properties:{file:{allOf:[{$ref:"#/definitions/File"}],title:"Seed File"},interface:{description:"(e.g. 0.0.0.0:8080)",title:"Interface",type:"string"}},required:["file","interface"],type:"object"}},required:["Enabled"],title:"Enabled",type:"object"}],title:"Local Oracle"},sapio_cli:{$schema:"http://json-schema.org/draft-07/schema#",definitions:{File:{format:"custom::filename",type:"string"},IFace:{description:"e.g., hello.com:1010, 0.0.0.0:8080",title:"Network Interface",type:"string"},ModuleHash:{description:"(64 char hex)",title:"Module Hash",type:"string"},Nickname:{description:"e.g., my_hot_wallet",title:"Human Readable Nickname",type:"string"},PK:{description:"e.g. xpubD6...",title:"Public Key",type:"string"},Preferences:{oneOf:[{enum:["Default"],type:"string"},{additionalProperties:!1,description:"From Sapio-Studio, Configuration parameters done locally.",properties:{Here:{properties:{emulators:{description:"Which Emulators to query?",items:{items:[{$ref:"#/definitions/PK"},{$ref:"#/definitions/IFace"}],maxItems:2,minItems:2,type:"array"},title:"Emulators",type:"array"},plugin_map:{description:"Map of nicknames to module hashes",items:{items:[{$ref:"#/definitions/Nickname"},{$ref:"#/definitions/ModuleHash"}],maxItems:2,minItems:2,type:"array"},title:"Custom Plugin Mapping",type:"array"},threshold:{description:"How many Emulators must sign?",format:"uint16",minimum:0,title:"Emulator Threshold (should set to # of emulators usually)",type:"integer"},use_emulation:{description:"Whether or not Emulation should be used",title:"Use Emulation?",type:"boolean"}},required:["emulators","plugin_map","threshold","use_emulation"],type:"object"}},required:["Here"],title:"Here",type:"object"},{additionalProperties:!1,description:"Use a custom config file",properties:{File:{properties:{config:{allOf:[{$ref:"#/definitions/File"}],title:"Configuration File:"}},required:["config"],type:"object"}},required:["File"],title:"File",type:"object"}],title:"Configuration Source"}},properties:{preferences:{allOf:[{$ref:"#/definitions/Preferences"}],description:"How to configure the options for sapio-cli",title:"Preferences"},sapio_cli:{allOf:[{$ref:"#/definitions/File"}],description:"sapio-cli Binary Location",title:"Binary"}},required:["preferences","sapio_cli"],title:"sapio-cli Studio Configuration",type:"object"}});function An(e){var t=Object(s.b)(),n=function(){var n=Object(w.a)(_.a.mark((function n(r,a){return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.electron.save_settings(e.name,JSON.stringify(r.formData));case 2:if(!n.sent){n.next=4;break}Object(T.a)(t);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),a=c.a.useState(null),i=Object(l.a)(a,2),o=i[0],u=i[1];function d(){return j.apply(this,arguments)}function j(){return(j=Object(w.a)(_.a.mark((function t(){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.electron.load_settings_sync(e.name);case 2:n=t.sent,o!==n&&u(n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return c.a.useEffect((function(){d()}),[]),Object(r.jsx)("div",{hidden:e.idx!==e.value,className:"SettingPane",children:e.idx===e.value&&Object(r.jsxs)(Nn.a,{className:"SettingForm",schema:In[e.name],onSubmit:n,fields:Pn,uiSchema:{sapio_cli:{"ui:widget":Tn},auth:{CookieFile:{"ui:widget":Tn}},Enabled:{file:{"ui:widget":Tn}}},formData:o,children:[Object(r.jsxs)(me.a,{sx:{paddingTop:"20px"},children:[Object(r.jsx)(ge.a,{variant:"contained",color:"success",type:"submit",size:"large",endIcon:Object(r.jsx)(sn.a,{}),children:"Save Settings"}),Object(r.jsxs)(ge.a,{sx:{marginLeft:"20px"},variant:"contained",color:"warning",size:"large",endIcon:Object(r.jsx)(En.a,{}),onClick:d,children:["Reset"," "]})]}),Object(r.jsx)(me.a,{sx:{paddingTop:"20px"},children:e.children})]})})}var Rn=c.a.memo(Mn);function Mn(){var e=c.a.useState(0),t=Object(l.a)(e,2),n=t[0],a=t[1],i=c.a.useState([null,[]]),o=Object(l.a)(i,2),s=o[0],u=o[1],d=function(){var e=Object(w.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.electron.bitcoin_command([{method:"getbestblockhash",parameters:[]}]).then((function(e){return u(["Connection Seems OK:",["Best Hash ".concat(e[0])]])})).catch((function(e){console.log("GOT",JSON.stringify(e));var t=e.message;if("string"===typeof e.message){var n=JSON.parse(t);if(n instanceof Object&&"code"in n&&"name"in n&&"message"in n)return void u(["\xa1Connection Not Working!",["Name: ".concat(n.name),"Message: ".concat(n.message),"Error Code: ".concat(n.code)]]);if("string"===typeof n)return void u(["\xa1Connection Not Working!",["".concat(n)]])}u(["\xa1Unknown Error!",["".concat(t.toString())]])}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(w.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.electron.sapio.show_config().then((function(e){u("ok"in e?["Sapio-CLI is Working!\nUsing Configuration:",["".concat(e.ok)]]:["\xa1Configuration Error!",["".concat(e.err)]])})).catch((function(e){return u(["\xa1Configuration Error!",["".concat(e.toString())]])}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(w.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.electron.emulator.read_log().then((function(e){if(e.length){var t=JSON.parse(e);u(["Emulator Status:",["interface: ".concat(t.interface),"pk: ".concat(t.pk),"sync: ".concat(t.sync)]])}else u(["Emulator Status:",["Not Running"]])}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"Settings",children:[Object(r.jsx)(me.a,{className:"SettingsNav",children:Object(r.jsxs)(Cn.a,{orientation:"vertical",value:n,onChange:function(e,t){a(t)},"aria-label":"basic tabs example",children:[Object(r.jsx)(Sn.a,{label:"Guide"}),Object(r.jsx)(Sn.a,{label:"Sapio CLI"}),Object(r.jsx)(Sn.a,{label:"Bitcoin"}),Object(r.jsx)(Sn.a,{label:"Emulator"}),Object(r.jsx)(Sn.a,{label:"Display"})]})}),Object(r.jsxs)(me.a,{className:"SettingsPanes",children:[Object(r.jsxs)(Ie.a,{open:Boolean(s[0])||Boolean(s[1].length),onClose:function(){return u([null,[]])},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(r.jsx)(Ae.a,{id:"alert-dialog-title",children:s[0]}),Object(r.jsx)(Re.a,{children:Object(r.jsx)("div",{id:"alert-dialog-description",children:s[1].map((function(e){return Object(r.jsx)(Me.a,{children:e},e)}))})}),Object(r.jsx)(Be.a,{children:Object(r.jsx)(ge.a,{onClick:function(){return u([null,[]])},children:"Close"})})]}),Object(r.jsx)(Bn,{idx:n,my_idx:0}),Object(r.jsx)(An,{name:"sapio_cli",value:n,idx:1,children:Object(r.jsx)(ge.a,{onClick:j,variant:"contained",color:"info",size:"large",children:"Test Sapio-Cli"})}),Object(r.jsx)(An,{name:"bitcoin",value:n,idx:2,children:Object(r.jsx)(ge.a,{onClick:d,variant:"contained",color:"info",size:"large",children:"Test Connection"})}),Object(r.jsxs)(An,{name:"local_oracle",value:n,idx:3,children:[Object(r.jsx)(ge.a,{variant:"contained",color:"success",size:"large",onClick:window.electron.emulator.start,children:"Start"}),Object(r.jsx)(ge.a,{sx:{marginLeft:"20px"},variant:"contained",color:"error",size:"large",onClick:window.electron.emulator.kill,children:"Kill"}),Object(r.jsx)(ge.a,{sx:{marginLeft:"20px"},variant:"contained",color:"info",size:"large",onClick:b,children:"Check Status"})]}),Object(r.jsx)(An,{name:"display",value:n,idx:4})]})]})}function Bn(e){var t=e.my_idx,n=e.idx;return Object(r.jsx)("div",{hidden:n!==t,className:"SettingPane",children:n===t&&Object(r.jsxs)(me.a,{children:[Object(r.jsx)(N.a,{variant:"h2",children:"Welcome to Sapio Studio"}),Object(r.jsx)(N.a,{variant:"h4",children:"Getting Started"}),Object(r.jsxs)(N.a,{variant:"body1",children:["To get started, you need to configure a few things.",Object(r.jsx)("br",{}),"On this page, you will find tabs for:",Object(r.jsx)("br",{}),Object(r.jsxs)("ol",{children:[Object(r.jsx)("li",{children:"Sapio Cli: options for the sapio compiler"}),Object(r.jsx)("li",{children:"Bitcoin: options for which bitcoin node to connect to"}),Object(r.jsx)("li",{children:"Emulator: options for running an emulator daemon"}),Object(r.jsx)("li",{children:"Display: options for Sapio Studio\u2018s rendering"})]}),"At the bottom of each of these tabs you will see a set of buttons that will allow you to save and test the configuration you have currently saved."]}),Object(r.jsx)(N.a,{variant:"h3",children:"You must save settings before they will be used."}),Object(r.jsx)(N.a,{variant:"body1",children:"Please ensure your Sapio Studio is properly configured before continuing on to the application."})]})})}var Dn=n(1218),Ln=(n(1180),n(709)),Fn=n(123);function Wn(e){var t=Object(s.c)(Fn.b);return Object(r.jsxs)(Ie.a,{onClose:e.set_to_delete,open:null!==e.to_delete,children:[Object(r.jsx)(Ae.a,{children:"Confirm Deletion"}),Object(r.jsx)(Re.a,{children:Object(r.jsxs)(Me.a,{children:['Confirm deletion of "',e.to_delete,'"? File will be in your trash folder.']})}),Object(r.jsxs)(Be.a,{children:[Object(r.jsx)(ge.a,{color:"warning",onClick:function(n){if(e.to_delete)switch(e.to_delete[0]){case"workspace":window.electron.sapio.workspaces.trash(e.to_delete[1]);break;case"contract":window.electron.sapio.compiled_contracts.trash(t,e.to_delete[1])}e.set_to_delete(),e.reload()},children:"Delete"}),Object(r.jsx)(ge.a,{onClick:e.set_to_delete,children:"Cancel"})]})]})}function qn(e){var t=Object(s.b)(),n=c.a.useState([]),a=Object(l.a)(n,2),i=a[0],o=a[1],u=c.a.useState(null),d=Object(l.a)(u,2),j=d[0],b=d[1],f=c.a.useState(0),h=Object(l.a)(f,2),p=h[0],x=h[1],O=Object(s.c)(Fn.b);c.a.useEffect((function(){var e=!1,t=function(){var n=Object(w.a)(_.a.mark((function n(){var r;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,window.electron.sapio.compiled_contracts.list(O);case 5:r=n.sent,o(r),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),console.error(n.t0),o([]);case 13:setTimeout(t,5e3);case 14:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(){return n.apply(this,arguments)}}();return t(),function(){e=!0}}),[p,O]);var v=i.map((function(e){var t=e.split("-"),n=Object(l.a)(t,3),r=n[0],a=n[1],c=n[2];return{id:e,mod:r,args:a,time:new Date(parseInt(c))}})),g=[{field:"actions-load",type:"actions",flex:.2,getActions:function(e){return[Object(r.jsx)(we.b,{icon:Object(r.jsx)(_e.a,{}),label:"Open",onClick:function(){t(Object(m.l)("ContractViewer")),t(Object(m.f)("number"===typeof e.id?"":e.id))}},"open-folder")]}},{field:"time",headerName:"Time",minWidth:100,type:"dateTime",flex:1},{field:"args",headerName:"Args Hash",width:100,flex:1},{field:"mod",headerName:"Module",width:100,type:"text",flex:1},{field:"actions-delete",type:"actions",flex:.2,getActions:function(e){return[Object(r.jsx)(we.b,{icon:Object(r.jsx)(Ln.a,{}),label:"Delete",onClick:function(){var t;"number"!==typeof(t=e.id)&&b(t)}},"delete")]}}];return Object(r.jsxs)("div",{hidden:e.idx!==e.value,className:"ContractList",children:[Object(r.jsxs)(N.a,{variant:"h4",children:["Workspace: ",O]}),Object(r.jsx)(Wn,{set_to_delete:function(){return b(null)},to_delete:null===j?null:["contract",j],reload:function(){return x(p+1)}}),e.idx===e.value&&Object(r.jsxs)("div",{className:"ContractListInner",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{children:Object(r.jsx)(we.a,{rows:v,columns:g,disableExtendRowFullWidth:!1,columnBuffer:3,pageSize:10,rowsPerPageOptions:[5],disableColumnSelector:!0,disableSelectionOnClick:!0})}),Object(r.jsx)("div",{})]})]})}function Un(e){return Object(r.jsxs)(Ie.a,{open:e.show,onClose:function(){e.close()},children:[Object(r.jsx)(Ae.a,{children:"Confirm Spend"}),Object(r.jsx)(Re.a,{children:Object(r.jsxs)(Me.a,{children:["Confirm sending",e.amt," BTC to ",e.to]})}),Object(r.jsxs)(Be.a,{children:[Object(r.jsx)(ge.a,{onClick:function(){e.close()},children:"Cancel"}),Object(r.jsx)(ge.a,{onClick:Object(w.a)(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.bitcoin_node_manager.send_to_address(e.amt,e.to);case 2:e.close();case 3:case"end":return t.stop()}}),t)}))),children:"Confirm"})]})]})}function Hn(e){var t=c.a.useState(0),n=Object(l.a)(t,2),a=n[0],i=n[1];return c.a.useEffect((function(){var t=!1,n=function(){var r=Object(w.a)(_.a.mark((function r(){var a;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,e.bitcoin_node_manager.check_balance();case 5:a=r.sent,i(a),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(2),console.error(r.t0),i(0);case 13:setTimeout(n,5e3);case 14:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(){return r.apply(this,arguments)}}();return n(),function(){t=!0}}),[]),Object(r.jsxs)(N.a,{children:["Amount: ",a]})}function zn(e){var t=c.a.useState(null),n=Object(l.a)(t,2),a=n[0],i=n[1],o=function(){var t=Object(w.a)(_.a.mark((function t(){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.bitcoin_node_manager.get_new_address();case 3:n=t.sent,i(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),i(null);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=Object(w.a)(_.a.mark((function t(n){var r,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),r=n.currentTarget.amount.value,a=n.currentTarget.address.value,e.set_params(r,a),n.currentTarget.reset();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"WalletSpendInner",children:[Object(r.jsx)("div",{}),Object(r.jsxs)("div",{children:[Object(r.jsx)(Hn,{bitcoin_node_manager:e.bitcoin_node_manager}),Object(r.jsx)(N.a,{children:a&&"New Address: ".concat(a)}),Object(r.jsx)(ge.a,{onClick:function(){return o()},children:"Get Address"}),Object(r.jsxs)(Dn.a,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:s,children:[Object(r.jsx)(W.a,{label:"Address",name:"address",type:"text",required:!0,size:"small"}),Object(r.jsx)(W.a,{label:"Amount",name:"amount",type:"number",required:!0,size:"small"}),Object(r.jsx)(ge.a,{type:"submit",children:"Send"})]})]}),Object(r.jsx)("div",{})]})}function Vn(e){var t=c.a.useState({amt:-1,to:""}),n=Object(l.a)(t,2),a=n[0],i=n[1];return Object(r.jsxs)("div",{className:"WalletSpendOuter",hidden:e.idx!==e.value,children:[Object(r.jsx)(Un,{amt:a.amt,to:a.to,show:a.amt>=0&&a.to.length>0,close:function(){return i({amt:-1,to:""})},bitcoin_node_manager:e.bitcoin_node_manager}),e.idx===e.value&&Object(r.jsx)(zn,{bitcoin_node_manager:e.bitcoin_node_manager,set_params:function(e,t){return i({amt:e,to:t})}})]})}function Gn(e){var t=c.a.useState([]),n=Object(l.a)(t,2),a=n[0],i=n[1];c.a.useEffect((function(){var t=!1,n=function(){var r=Object(w.a)(_.a.mark((function r(){var a;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,e.bitcoin_node_manager.list_transactions(10);case 5:a=r.sent,i(a),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(2),console.error(r.t0),i([]);case 13:setTimeout(n,5e3);case 14:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(){return r.apply(this,arguments)}}();return n(),function(){t=!0}}),[]);var o=[{field:"amount",headerName:"Amount",width:130,type:"number"},{field:"category",headerName:"Category",width:130},{field:"txid",headerName:"TXID",width:130},{field:"blockheight",headerName:"Height",width:130,type:"number"},{field:"time",headerName:"Time",width:130,type:"number",valueGetter:function(e){var t=e.row.blocktime;return t?new Date(1e3*t).toUTCString():"None"}}];return(null!==a&&void 0!==a?a:[]).forEach((function(e){e.id=e.txid})),Object(r.jsx)("div",{className:"WalletTransactionList",hidden:e.idx!==e.value,children:e.idx===e.value&&Object(r.jsxs)("div",{className:"WalletTransactionListInner",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{children:Object(r.jsx)(we.a,{rows:a,columns:o,pageSize:10,rowsPerPageOptions:[5],disableColumnSelector:!0,disableSelectionOnClick:!0})}),Object(r.jsx)("div",{})]})})}var Kn=n(710);function Jn(e){var t=c.a.useState(null),n=Object(l.a)(t,2),a=n[0],i=n[1];return Object(r.jsxs)(Ie.a,{onClose:e.hide,open:e.show,children:[Object(r.jsx)(Ae.a,{children:"Create a new Workspace"}),Object(r.jsxs)(Re.a,{children:[Object(r.jsx)(Me.a,{children:"What should the workspace be called?"}),Object(r.jsx)(W.a,{onChange:function(e){return i(e.currentTarget.value)},value:a,autoFocus:!0,margin:"dense",label:"Name",name:"name",type:"text",fullWidth:!0,variant:"standard"})]}),Object(r.jsxs)(Be.a,{children:[Object(r.jsx)(ge.a,{onClick:e.hide,children:"Cancel"}),Object(r.jsx)(ge.a,{color:"success",onClick:function(){var t=Object(w.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===a){t.next=4;break}return t.next=3,window.electron.sapio.workspaces.init(a);case 3:e.reload();case 4:e.hide();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Create"})]})]})}function Xn(e){var t=Object(s.b)(),n=c.a.useState([]),a=Object(l.a)(n,2),i=a[0],o=a[1],u=c.a.useState(null),d=Object(l.a)(u,2),j=d[0],b=d[1],f=c.a.useState(0),h=Object(l.a)(f,2),p=h[0],x=h[1],O=c.a.useState(!1),v=Object(l.a)(O,2),m=v[0],g=v[1],y=function(){x(p+1)};c.a.useEffect((function(){var e=!1,t=function(){var n=Object(w.a)(_.a.mark((function n(){var r;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,window.electron.sapio.workspaces.list();case 5:r=n.sent,o(r),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),console.error(n.t0),o([]);case 13:setTimeout(t,5e3);case 14:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(){return n.apply(this,arguments)}}();return t(),function(){e=!0}}),[p]);var k=i.map((function(e){return{id:e,name:e}})),C=[{field:"actions-load",type:"actions",flex:.2,getActions:function(e){return[Object(r.jsx)(we.b,{icon:Object(r.jsx)(Kn.a,{}),label:"Open",onClick:function(){t(Object(Fn.c)(3)),"string"===typeof e.id&&t(Object(Fn.d)(e.id))}},"open-folder")]}},{field:"name",headerName:"Name",width:100,type:"text",flex:1},{field:"actions-delete",type:"actions",flex:.2,getActions:function(e){return[Object(r.jsx)(we.b,{icon:Object(r.jsx)(Ln.a,{}),label:"Delete",onClick:function(){var t;"number"!==typeof(t=e.id)&&b(t)}},"delete")]}}];return Object(r.jsxs)("div",{hidden:e.idx!==e.value,className:"WorkspaceList",children:[Object(r.jsx)(Jn,{show:m,hide:function(){g(!1)},reload:y}),Object(r.jsx)(Wn,{set_to_delete:function(){return b(null)},to_delete:null!==j?["workspace",j]:null,reload:y}),e.idx===e.value&&Object(r.jsxs)("div",{className:"WorkspaceListInner",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{children:Object(r.jsx)(we.a,{components:{Toolbar:function(){return Object(r.jsx)(we.c,{children:Object(r.jsxs)(ge.a,{onClick:function(){return g(!0)},children:["New Workspace",Object(r.jsx)(Ee.a,{})]})})}},rows:k,columns:C,disableExtendRowFullWidth:!1,columnBuffer:3,pageSize:10,rowsPerPageOptions:[5],disableColumnSelector:!0,disableSelectionOnClick:!0})}),Object(r.jsx)("div",{})]})]})}function $n(e){var t=Object(s.b)(),n=Object(s.c)(Fn.a);return Object(r.jsxs)("div",{className:"Wallet",children:[Object(r.jsx)(Dn.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(r.jsxs)(Cn.a,{value:n,onChange:function(e,n){t(Object(Fn.c)(n))},"aria-label":"basic tabs example",children:[Object(r.jsx)(Sn.a,{label:"Send"}),Object(r.jsx)(Sn.a,{label:"Send History"}),Object(r.jsx)(Sn.a,{label:"Workspaces"}),Object(r.jsx)(Sn.a,{label:"Contracts"})]})}),Object(r.jsxs)(Dn.a,{sx:{overflowY:"scroll",height:"100%"},children:[Object(r.jsx)(Vn,Object(u.a)({value:0,idx:n},e)),Object(r.jsx)(Gn,Object(u.a)({value:1,idx:n},e)),Object(r.jsx)(Xn,{value:2,idx:n}),Object(r.jsx)(qn,{value:3,idx:n})]})]})}function Yn(e,t,n){if(null!==n){var r=t.getCanvas();if(void 0!==r){e.setZoomLevel(100);var a=r.clientHeight,c=r.clientWidth,i=r.getBoundingClientRect(),o=i.left,s=i.top,u=n.getPosition(),l=u.x,d=u.y;l+=n.width/2,d+=n.height;var j=e.getZoomLevel()/100,b=(o+c/3-l)*j,f=(s+a/2-d)*j;e.setOffset(b,f)}}}var Zn=new O.DagreEngine({graph:{rankdir:"TB",align:"DL",ranker:"tight-tree",marginx:25,marginy:25},includeLinks:!1});function Qn(e){var t=Object(s.c)(m.k),n=e.engine,a=e.model,i=e.load_new_contract,o=Object(s.c)(m.h),u=Object(l.a)(o,2),d=u[0],j=u[1],h=c.a.useState(0),x=Object(l.a)(h,2),O=x[0],v=x[1];var y=i(d,j,(function(){v(O+1)})),_=Object(s.c)(m.j),w=function(){Zn.redistribute(e.model),n.repaintCanvas(),setTimeout((function(){return n.zoomToFit()}),0)};c.a.useEffect((function(){"ContractViewer"===_&&w()}),[O]);var k=c.a.useRef(null),C=c.a.useMemo((function(){k.current&&k.current.destroy();var e=new g.a({model:a,current_contract:y});return k.current=e,e}),[y]),S=Object(p.a)("(prefers-color-scheme: dark)"),N=c.a.useMemo((function(){return Object(b.b)({palette:{mode:S?"dark":"light",primary:{main:"#90caf9"},secondary:{main:"#9c27b0"}}})}),[S]);return Object(r.jsxs)(f.a,{theme:N,children:[Object(r.jsxs)("div",{className:"App",children:[Object(r.jsxs)("div",{className:"App-area",children:[Object(r.jsx)("div",{className:"area-nav",children:Object(r.jsx)(fe,{relayout:w,bitcoin_node_manager:C,contract:y})}),Object(r.jsx)("div",{className:"area-inner",children:Object(r.jsx)(er,{bitcoin_node_manager:C,model:a,engine:n,current_contract:y})})]}),Object(r.jsx)("div",{hidden:!t,children:t&&Object(r.jsx)(P,{api:C})})]}),Object(r.jsx)(kn,{bitcoin_node_manager:C,contract:y})]})}function er(e){switch(Object(s.c)(m.j)){case"Settings":return Object(r.jsx)(d.a,{className:"settings-container",square:!0,children:Object(r.jsx)(Rn,{})});case"Wallet":return Object(r.jsx)(d.a,{className:"wallet-container",square:!0,children:Object(r.jsx)($n,{bitcoin_node_manager:e.bitcoin_node_manager})});case"ContractCreator":return Object(r.jsx)(Xe,{});case"ContractViewer":return Object(r.jsx)(tr,Object(u.a)({},e));case"MiniscriptCompiler":return Object(r.jsx)(d.a,{className:"miniscript-container",square:!0,children:Object(r.jsx)(vn.a,{})});case"Chat":return Object(r.jsx)(d.a,{className:"chat-container",square:!0,children:Object(r.jsx)(Fe,{})})}}function tr(e){var t=Object(s.b)(),n=Object(s.c)(pt.e),a=Object(s.c)(pt.f),i=Object(h.a)(),o=Object(s.c)(L.b),u="NULL"!==n[0]&&a,l=e.model,d=e.engine,b=e.current_contract;return c.a.useEffect((function(){var e,t,r;"TXN"===n[0]?Yn(l,d,null!==(e=te.d.get_by_txid_s(b.txid_map,n[1]))&&void 0!==e?e:null):"UTXO"===n[0]&&Yn(l,d,null!==(t=null===(r=te.d.get_by_txid_s(b.txid_map,n[1].hash))||void 0===r?void 0:r.utxo_models[n[1].nIn])&&void 0!==t?t:null)}),[n]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"main-container",children:Object(r.jsx)(et,{engine:d,model:l,background:i.palette.background.paper,color:i.palette.divider,children:Object(r.jsx)(x.CanvasWidget,{engine:d},"main")})}),Object(r.jsx)(j.a,{in:u,children:Object(r.jsx)(On,{current_contract:b})}),Object(r.jsx)("div",{className:"area-overlays",children:Object(r.jsx)(j.a,{in:o,children:Object(r.jsx)(ee,{contract:b,engine:d,hide:function(){return t(Object(L.e)())}})})})]})}var nr=function(){var e=Object(s.b)(),t=c.a.useRef(null),n=v()(),a=c.a.useRef(new O.DiagramModel);c.a.useEffect((function(){setTimeout((function(){Object(T.a)(e)}),10)})),n.getNodeFactories().registerFactory(new Kt),n.getNodeFactories().registerFactory(new It),n.getLinkFactories().registerFactory(new ft),a.current.setGridSize(1),a.current.setLocked(!0);var i=c.a.useRef(new B(a.current));return n.setModel(a.current),Object(r.jsx)(Qn,{engine:n,model:a.current,load_new_contract:function(n,r,a){if(null!==t.current&&t.current[1]===r)return t.current[0];var c=new E.a(null!==n&&void 0!==n?n:{program:{}});return t.current&&i.current.unload(t.current[0]),t.current=[c,r],i.current.load(c),e(Object(je.g)(c.continuations)),a(),c}})};n(1181),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var rr=document.getElementById("root");o.a.render(Object(r.jsx)(s.a,{store:rt.a,children:Object(r.jsx)(nr,{})}),rr),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},123:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return l}));var r=n(81);var a=Object(r.b)({name:"Wallet",initialState:{showing:0,workspace:"default"},reducers:{switch_wallet_tab:function(e,t){e.showing=t.payload},switch_workspace:function(e,t){e.workspace=t.payload}}}),c=a.actions,i=c.switch_wallet_tab,o=c.switch_workspace,s=function(e){return e.walletReducer.showing},u=function(e){return e.walletReducer.workspace},l=a.reducer},126:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return p}));var r=n(33),a=n(37),c=n(316),i=n(41),o=n(42),s=n(403),u=n(193),l=(n(1084),n(315)),d=n(45),j=n(137),b=n(26),f=n.n(b),h=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e,a,i,o,s){var b;Object(r.a)(this,n),(b=t.call(this,{},e.getId().substr(0,16),i,u.b.get(o),e)).tx=void 0,b.witness_set=void 0,b.utxo_models=void 0,b.utxo_links=void 0,b.input_links=void 0,b.tx=e,b.utxo_models=[],b.utxo_links=[],b.input_links=[],b.witness_set=a;for(var h=0;h<b.tx.outs.length;++h){var p=u.b.clone(o),x=f.a.merge({color:u.b.get(p),label:i},s[h]),O=e.outs[h],v=new l.a(Object(l.b)(O.script,O.value,e,h),x,Object(c.a)(b));b.utxo_models.push(v),b.utxo_links.push(b.addOutPort("out"+h,!0).create_link(v.addInPort("create"),Object(c.a)(b),void 0))}return b.registerListener({selectionChanged:function(t){t.isSelected&&j.a.dispatch(Object(d.k)(e.getId()))}}),b}return Object(a.a)(n,[{key:"get_json",value:function(){return{psbt:this.witness_set.psbts[0].toBase64(),hex:this.tx.toHex(),metadata:{label:this.getOptions().name,color:this.getOptions().color},output_metadata:this.utxo_models.map((function(e){return{color:e.getOptions().color,label:e.getOptions().name,simp:{}}}))}}},{key:"get_txid",value:function(){return this.tx.getId()}},{key:"remove_from_model",value:function(e){this instanceof p||(e.removeNode(this),this.utxo_links.map((function(t){return e.removeLink(t)}))),this.utxo_models.map((function(t){return e.removeNode(t)})),this.input_links.map((function(t){return e.removeLink(t)}))}}]),n}(s.a),p=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e,a,c,i,o,s){var u;return Object(r.a)(this,n),(u=t.call(this,a,c,i,o,s)).override_txid=void 0,u.override_txid=e,u}return Object(a.a)(n,[{key:"get_txid",value:function(){return this.override_txid}}]),n}(h)},137:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(81),a=n(313),c=n(45),i=n(48),o=n(276),s=n(68),u=n(85),l=n(71),d=n(91),j=n(123),b=Object(r.a)({reducer:{entityReducer:c.b,appReducer:i.d,contractCreatorReducer:l.a,simulationReducer:d.d,settingsReducer:u.f,modalReducer:s.b,dataReducer:o.a,walletReducer:j.e},middleware:[a.a],devTools:!0})},169:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(46),a=n(33),c=n(37),i=n(41),o=n(42),s=n(70),u=n(275),l=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,Object(r.a)({},e))}return Object(c.a)(n,[{key:"createLinkModel",value:function(e){return new u.a}},{key:"spend_link",value:function(e,t,n){var r=this.createLinkModel(n);return r.setSourcePort(this),r.setTargetPort(e),r.linked_to=t,r}}]),n}(s.DefaultPortModel)},193:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return S}));var r=n(412),a=n(41),c=n(42),i=n(37),o=n(33),s=n(21),u=n(53),l=n(9),d=n(43),j=n(199),b=n(26),f=n.n(b),h=n(23),p=n(126),x=n(57),O=n.n(x),v={new:function(e){return["NodeColor",e]},get:function(e){return e[1]},clone:function(e){return v.new(e[1].slice())}};function m(t){var n=t.psbts,r=t.txns,a=t.txn_colors,c=t.txn_labels,i=t.utxo_labels,o=t.continuations,b=function(t,n,r,a,c){var i=h.d.new(),o=[];j.equal(n.length,t.length),j.equal(n.length,r.length),j.equal(n.length,a.length),j.equal(n.length,c.length),f.a.chain(f.a.zip(n,t,r,a,c)).map((function(e,t){var n=Object(l.a)(e,5);return{tx:n[0],psbt:n[1],txn_label:n[2],txn_color:n[3],utxo_labels:n[4]}})).groupBy((function(e){return e.tx.getId()})).forEach((function(e){var t,n="",r=v.new(""),a=[],c={witnesses:[],psbts:[]},s=Object(u.a)(e);try{for(s.s();!(t=s.n()).done;){var l=t.value,d=l.tx,b=l.psbt,f=l.txn_label,x=l.txn_color;a=l.utxo_labels,r=x,n=f;var O,m=[],g=Object(u.a)(d.ins);try{for(g.s();!(O=g.n()).done;){var y=O.value;m.push(y.witness)}}catch(S){g.e(S)}finally{g.f()}c.witnesses.push(m),c.psbts.push(b)}}catch(S){s.e(S)}finally{s.f()}j.ok(e.length>0);var _,w=e[0].tx.clone(),k=Object(u.a)(w.ins);try{for(k.s();!(_=k.n()).done;)_.value.witness=[]}catch(S){k.e(S)}finally{k.f()}var C=new p.b(w,c,n,r,a);h.d.add(i,C),o.push(C)})).value();for(var s=new Map,b=0,x=o;b<x.length;b++){var m,g=x[b],y=Object(u.a)(g.tx.ins);try{for(y.s();!(m=y.n()).done;){var _=m.value,w=Object(h.l)(_.hash);if(!h.d.has_by_txid(i,w)){var k=s.get(w)||[];k.push(_),s.set(w,k)}}}catch(C){y.e(C)}finally{y.f()}}return s.forEach((function(t,n){for(var r=new d.Transaction,a=1+f.a.chain(t).map((function(e){return e.index})).max().value(),c=0;c<a;++c)r.addOutput(e.from(""),21e14);var s=O()([255*Math.random(),255*Math.random(),255*Math.random()],"rgb").toString(),u=v.new(s),l=new Array(a);l.fill(null);var j=new p.a(n,r,{witnesses:[],psbts:[]},"Unknown Inputs",u,l);h.d.add(i,j),o.push(j)})),[i,o]}(n,r,c,a,i),x=Object(l.a)(b,2),m=x[0],g=x[1],y=function(e){var t,n=h.a.new(),r=Object(u.a)(e);try{for(r.s();!(t=r.n()).done;){var a,c=t.value,i=c.tx,o=Object(u.a)(i.ins);try{for(o.s();!(a=o.n()).done;){var s=a.value;h.a.add(n,s,c)}}catch(l){o.e(l)}finally{o.f()}}}catch(l){r.e(l)}finally{r.f()}return n}(g);return{inputs_map:y,utxo_models:function(t,n){var r,a=[],c=Object(u.a)(t);try{var i=function(){var t=r.value;j.equal(t.utxo_models.length,t.tx.outs.length),t instanceof p.a||a.push.apply(a,Object(s.a)(t.utxo_models)),f.a.zip(t.utxo_models,t.tx.outs).forEach((function(r,c){var i,o,s=Object(l.a)(r,2),u=s[0],b=s[1],f=u,x=b,O=null!==(i=h.a.get_txid_s(n,t.get_txid(),c))&&void 0!==i?i:[];if(j.equal(t,f.getOptions().txn),t instanceof p.a&&O.length>0&&(a.push(f),null===(o=O[0])||void 0===o?void 0:o.witness_set.witnesses.length)){var v,m,g=null===(v=O[0])||void 0===v||null===(m=v.witness_set.witnesses[0])||void 0===m?void 0:m[f.getOptions().utxo.index];if(g){var y=g[g.length-1];if(y){d.crypto.sha256(y);var _=e.alloc(34);_[0]=0,_[1]=32,y.copy(_,2),x.script=_;var w=O.reduce((function(e,t){return Math.max(t.tx.outs.reduce((function(e,t){var n;return null!==(n=e+t.value)&&void 0!==n?n:0}),0),e)}),0);f.getOptions().txn.tx.outs[f.getOptions().utxo.index].value=w,f.getOptions().utxo.amount=w,d.address.fromOutputScript(_,d.networks.regtest)}}}O.forEach((function(e,n){var r=e.tx.ins.findIndex((function(e){return e.index===c&&Object(h.l)(e.hash)===t.get_txid()}));if(-1===r)throw new Error("Missing Spender Error");var a=f.spent_by(e,n,r);e.input_links.push(a),f.getOptions().utxo.spends.push(e)}))}))};for(c.s();!(r=c.n()).done;)i()}catch(o){c.e(o)}finally{c.f()}return a}(g,y),txn_models:g,txid_map:m,continuations:o}}var g=new function e(){Object(o.a)(this,e),this.cache=void 0,this.cache=new Map};function y(e,t,n){for(var r=[],a=0,c=0;a<e.length&&c<t.length;)n(e[a])<n(t[c])?(r.push(e[a]),a++):n(e[a])>n(t[c])?(r.push(t[c]),c++):(r.push(e[a]),a++,c++);if(a<e.length)for(var i=a;i<e.length;i++)r.push(e[i]);else for(var o=c;o<t.length;o++)r.push(t[o]);return r}function _(e,t,n,r,a,c){for(var i,o=e.map((function(e){return k(e,t,n,r,a,c)}));o.length>1;){for(var s=Math.floor(Math.random()*o.length),u=Math.floor(Math.random()*o.length);s===u;)u=Math.floor(Math.random()*o.length);o[s]=f()(y(o[s],o[u],(function(e){return e.get_txid()}))).sortedUniqBy((function(e){return e.get_txid()})).value();var l=o.pop();if(void 0===l)throw Error("Invariant Broken on Array Length");o.length!==u&&(o[u]=l)}return null!==(i=o[0])&&void 0!==i?i:[]}function w(e){var t=g.cache.get(e.get_txid());if(t)return t[0];var n=e.tx.locktime,r=e.tx.ins.map((function(e){return e.sequence})),a=0,c=0,i=!1;r.forEach((function(e){if(4294967295!==e&&(i=!0,!(e&1<<31))){var t=65535&e;e&1<<22?c=Math.max(512*t,c):a=Math.max(t,a)}}));var o=n<5e8;return t=[{unlock_time:i&&!o?n:0,unlock_height:i&&o?n:0,unlock_at_relative_height:a,unlock_at_relative_time:c,txn:e},null],g.cache.set(e.get_txid(),t),t[0]}function k(e,t,n,r,a,c){return function(e,t){var n,r=null!==(n=h.a.get_txid_s_group(t,e.get_txid()))&&void 0!==n?n:{};return f()(Array.from(Object.values(r))).flatMap((function(e){return e.map(w)}))}(e,c).value().flatMap((function(e){var i=e.unlock_time,o=e.unlock_height,s=e.unlock_at_relative_height,u=e.unlock_at_relative_time,l=e.txn,d=Math.max(i,r+u),j=Math.max(o,a+s);return d>t||j>n?C(l,c):k(l,t,n,d,j,c)}))}function C(e,t){var n,r,a=g.cache.get(e.get_txid());return a&&a[1]||(a||(a=[w(e),null],g.cache.set(e.get_txid(),a)),a[1]=f()(Array.from(null!==(n=Object.values(null!==(r=h.a.get_txid_s_group(t,e.get_txid()))&&void 0!==r?r:{}))&&void 0!==n?n:[]).flat(1).map((function(e){return C(e,t)})).flat(1)).uniqBy((function(e){return e.get_txid()})).sortBy((function(e){return e.get_txid()})).value().concat(e)),a[1]}var S=function(e){Object(a.a)(n,e);var t=Object(c.a)(n);function n(e){var a;if(Object(o.a)(this,n),(a=t.call(this)).checkable=!1,a.checkable=!0,void 0===e)return Object(r.a)(a);var c=m(function(e){for(var t=[],n=[],r=[],a=[],c=[],i={},o=0,s=Object.entries(e.program);o<s.length;o++){var j,b=Object(l.a)(s[o],2),f=(b[0],b[1]),p=null,x=0,O=Object(u.a)(f.txs.entries());try{for(O.s();!(j=O.n()).done;){var m,g,y,_=Object(l.a)(j.value,2),w=(_[0],_[1]);t.push(d.Psbt.fromBase64(w.linked_psbt.psbt));var k=d.Transaction.fromHex(w.linked_psbt.hex);if(null===p)p=Object(h.l)(k.ins[0].hash),x=k.ins[0].index;else{var C=Object(h.l)(k.ins[0].hash),S=k.ins[0].index;if(C!==p||S!==x)throw"Sapio Invariant Error: All txs in a group should spend the same coin"}n.push(k),r.push(null!==(m=w.linked_psbt.metadata.label)&&void 0!==m?m:"unlabeled"),a.push(v.new(null!==(g=w.linked_psbt.metadata.color)&&void 0!==g?g:"orange")),c.push(null!==(y=w.linked_psbt.output_metadata)&&void 0!==y?y:new Array(k.outs.length))}}catch(N){O.e(N)}finally{O.f()}i["".concat(p,":").concat(x)]=f.continue_apis}return{psbts:t,txns:n,txn_colors:a,txn_labels:r,utxo_labels:c,continuations:i}}(e)),i=c.inputs_map,s=c.utxo_models,j=c.txn_models,b=c.txid_map,f=c.continuations;return a.utxo_models=s,a.inputs_map=i,a.txn_models=j,a.txid_map=b,a.continuations=f,a}return Object(i.a)(n,[{key:"should_update",value:function(){return this.checkable}},{key:"lookup_utxo_model",value:function(e,t){var n,r,a=Object(h.l)(e);return null!==(n=null===(r=h.d.get_by_txid_s(this.txid_map,a))||void 0===r?void 0:r.utxo_models[t])&&void 0!==n?n:null}},{key:"reachable_at_time",value:function(e,t,n,r){var a,c;return _((a=this.txn_models,c=this.txid_map,a.filter((function(e){return-1===e.tx.ins.findIndex((function(e){return h.d.has_by_txid(c,Object(h.l)(e.hash))}))}))),e,t,n,r,this.inputs_map)}}]),n}(function(){function e(){Object(o.a)(this,e),this.utxo_models=void 0,this.txn_models=void 0,this.inputs_map=void 0,this.txid_map=void 0,this.continuations=void 0,this.utxo_models=[],this.inputs_map=h.a.new(),this.txn_models=[],this.txid_map=h.d.new(),this.continuations={}}return Object(i.a)(e,[{key:"lookup_utxo_model",value:function(e,t){throw console.log("called empty"),"Called Empty"}},{key:"should_update",value:function(){return!1}},{key:"get_continuations",value:function(){return this.continuations}}]),e}())}).call(this,n(29).Buffer)},23:function(e,t,n){"use strict";(function(e){n.d(t,"l",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return O})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"f",(function(){return _}));var r=n(4),a=n(0),c=n(43),i=(n(2),n(140)),o=n(401),s=n(15),u=n(85);function l(t){var n=e.alloc(t.length);return t.forEach((function(e,r){n[t.length-1-r]=e})),n.toString("hex")}function d(e){return l(e)}var j=Symbol("InputMapT"),b={new:function(){return Object(r.a)({},j,{})},add:function(e,t,n){var r=l(t.hash),a=e[j][r];void 0===a&&(a={},e[j][r]=a);var c=a[t.index];void 0===c&&(c=[],a[t.index]=c),c.push(n)},get_txid_s_group:function(e,t){var n;return null!==(n=e[j][t])&&void 0!==n?n:null},get:function(e,t){var n,r;return null!==(n=null===(r=e[j][l(t.hash)])||void 0===r?void 0:r[t.index])&&void 0!==n?n:null},get_txid_s:function(e,t,n){var r,a;return null!==(r=null===(a=e[j][t])||void 0===a?void 0:a[n])&&void 0!==r?r:null}};function f(e){return e>Object(s.c)(u.c)?(e/=1e8,Object(a.jsxs)("span",{title:e.toString()+" bitcoin",children:[e,Object(a.jsx)("span",{style:{fontSize:"larger",color:"#f2a900"},children:"\u20bf"})]})):Object(a.jsxs)("span",{title:e.toString()+" satoshis",children:[e,Object(a.jsx)("span",{style:{fontSize:"larger",color:"#f2a900"},children:"\xa7"})]})}function h(e){var t=e.amount;return t>Object(s.c)(u.c)?(t/=1e8,Object(a.jsx)(i.a,{label:"Amount (btc)",type:"text",value:t,variant:"outlined",InputProps:{readOnly:!0,endAdornment:Object(a.jsx)(o.a,{position:"end",children:Object(a.jsx)("span",{style:{fontSize:"larger",color:"#f2a900"},children:"\u20bf"})})}})):Object(a.jsx)(i.a,{label:"Amount (sats)",type:"text",value:t,variant:"outlined",InputProps:{readOnly:!0,endAdornment:Object(a.jsx)(o.a,{position:"end",children:Object(a.jsx)("span",{style:{fontSize:"larger",color:"#f2a900"},children:"\xa7"})})}})}function p(e){return e.getHash(!0).toString("hex")}var x=Symbol("TXIDAndWTXIDMapT"),O={new:function(){return Object(r.a)({},x,{})},add:function(e,t){e[x][t.get_txid()]=t},get_by_txid:function(e,t){return e[x][t.get_txid()]},get_by_txid_s:function(e,t){return e[x][t]},delete_by_txid:function(e,t){delete e[x][t.get_txid()]},has_by_txid:function(e,t){return _(e[x],t)}};function v(e){var t={relative_time:0,relative_height:0};if(e===c.Transaction.DEFAULT_SEQUENCE)return t;if(e===c.Transaction.DEFAULT_SEQUENCE-1)return t;var n=65535&e;return 1<<22&e?t.relative_time=n:t.relative_height=n,t}function m(e){var t;return e*=512,(e/=6)<24&&0!==e?t=" Hours":(e/=24)<14?t=" Days":(e/=7)<10?t=" Weeks":(e/=30,t=" Months"),(Math.trunc(10*e)/10).toString()+t}function g(t){return l(c.crypto.sha256(e.from("mock:"+t.nIn)))===t.hash}function y(e){var t=e.hash+":"+e.nIn.toString();if(null!==t.match(/^[A-Fa-f0-9]{64}:[0-9]+$/))return t;throw"ERR: ID not valid"}var _=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).call(this,n(29).Buffer)},230:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(33),a=n(37),c=n(41),i=n(42),o=n(169),s=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this,{type:"spend",width:15})).link_type="nonexclusive",e}return n}(n(275).a),u=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"createLinkModel",value:function(e){return new s}},{key:"create_link",value:function(e,t,n){var r=this.createLinkModel(n);return r.setSourcePort(this),r.setTargetPort(e),r.linked_to=t,r}}]),n}(o.a)},275:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(46),a=n(33),c=n(41),i=n(42),o=n(70),s=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,Object(r.a)({type:"spend",width:15},e))).link_type=void 0,c.linked_to=void 0,c.link_type="exclusive",c.linked_to=null,c}return n}(o.DefaultLinkModel)},276:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(81),a=n(26),c=n.n(a);var i=Object(r.b)({name:"Settings",initialState:{status:{},state:{}},reducers:{load_status:function(e,t){c.a.isEqual(e.status,t.payload.status)&&c.a.isEqual(e.state,t.payload.state)||(e.status=t.payload.status,e.state=t.payload.state)}}}),o=i.actions.load_status,s=function(e){return function(t){return t.dataReducer.state[e]}},u=i.reducer},277:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return m}));var r=n(33),a=n(37),c=n(41),i=n(42),o=n(0),s=n(127),u=n(93),l=n(106),d=n(226),j=n.n(d),b=n(2),f=n.n(b),h=n(15),p=n(45),x=n(73);n(1172);function O(e){var t=Object(h.b)();return Object(o.jsxs)("div",{className:"OutpointDetail",children:[Object(o.jsx)(x.c,{className:"txhex",label:"Outpoint",value:e.txid.toString()+":"+e.n}),Object(o.jsx)(s.a,{title:"Go To the Transaction that created this.",children:Object(o.jsx)(u.a,{"aria-label":"goto-creating-txn",onClick:function(){return t(Object(p.k)(e.txid))},children:Object(o.jsx)(j.a,{style:{color:l.a[500]}})})})]})}function v(e){var t=Object(h.b)();return Object(o.jsxs)("div",{className:"OutpointDetail",children:[Object(o.jsx)(x.c,{className:"txhex",label:"Outpoint",value:e.txid.toString()+":"+e.n}),Object(o.jsx)(s.a,{title:"Go to this outpoint",children:Object(o.jsx)(u.a,{"aria-label":"goto-this-outpoint",onClick:function(){return t(Object(p.l)({hash:e.txid,nIn:e.n}))},children:Object(o.jsx)(j.a,{style:{color:l.a[500]}})})})]})}var m=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(o.jsx)(x.c,{className:"txhex",value:this.props.txid,label:"TXID"})}}]),n}(f.a.Component)},314:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(13),a=n.n(r),c=n(20),i=n(33),o=n(37),s=n(4),u=n(53),l=n(9),d=n(43),j=n(23),b=n(26),f=n(85),h=n(137),p=n(276);function x(e,t,n){if(t!==n){var r=e[t];e[t]=e[n],e[n]=r}}function O(e,t){for(var n,r={},a=0,c=Object.entries(e);a<c.length;a++){var i=Object(l.a)(c[a],2),o=i[0],d=i[1];if("Confirmed"===d||"Impossible"===d){var b=j.d.get_by_txid_s(t.txid_map,o);if(!b)throw new Error("All txns Are Expected to be Present");if("Confirmed"===d){var f,h=Object(u.a)(b.getOptions().txn.ins);try{for(h.s();!(f=h.n()).done;){var p=f.value,x=Object(j.g)(p.hash);Object(j.f)(r,x)?r[x][p.index]=null:r[x]=Object(s.a)({},p.index,null)}}catch(M){h.e(M)}finally{h.f()}}if("Impossible"===d){var O=b.getOptions().txn.outs.length,v=Object.fromEntries(Array.from({length:O},(function(){return 0})).map((function(e,t){return[t,null]})));console.log("OBJ",v),r[o]=v}}}var m=Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(l.a)(e,2),n=(t[0],t[1]);return!("Confirmed"===n||"Impossible"===n)})).map((function(e){var n=Object(l.a)(e,2),r=n[0],a=(n[1],j.d.get_by_txid_s(t.txid_map,r));if(!a)throw new Error("All txns Are Expected to be Present");return[r,{length:a.getOptions().txn.outs.length,inps:a.getOptions().txn.ins.map((function(e){return{hash:Object(j.g)(e.hash),nIn:e.index}}))}]})));do{n=!1;for(var g=0,y=Object.entries(m);g<y.length;g++){var _=Object(l.a)(y[g],2),w=_[0],k=_[1],C=k.length,S=k.inps;console.log(w);var N,T=Object(u.a)(S);try{for(T.s();!(N=T.n()).done;){var P,E=N.value,I=E.hash,A=E.nIn;if(Object(j.f)(null!==(P=r[I])&&void 0!==P?P:{},A)){var R=Object.fromEntries(Array.from({length:C},(function(){return 0})).map((function(e,t){return[t,null]})));r[w]=R,n=!0,e[w]="Impossible",delete m[w];break}}}catch(M){T.e(M)}finally{T.f()}}}while(n);return e}function v(e,t){for(var n,r={},a=[],c=0,i=Object.entries(e);c<i.length;c++){var o=Object(l.a)(i[c],2),s=o[0],d=o[1];if(!d)throw new Error("All Statuses Are Expected to be Present");var b=void 0;"Unknown"===(b=d?null===d.confirmations?"Unknown":d.confirmations>0?"Confirmed":0===d.confirmations?"InMempool":d.confirmations<0?"Impossible":"Unknown":"Unknown")?a.push(d):r[s]=b}a.reverse();do{n=!1;for(var f=a.length,h=0;h<f;++h){var p,O,v=a.pop(),m=j.d.get_by_txid_s(t.txid_map,v.txid),g=!1,y=Object(u.a)(m.tx.ins);try{for(y.s();!(p=y.n()).done;){var _=p.value;switch(r[Object(j.g)(_.hash)]){case void 0:a.push(v),x(a,0,a.length-1),g=!0;break;case"Confirmed":case"InMempool":break;case"Impossible":r[v.txid]="Impossible",n=!0,g=!0;break;case"Broadcastable":case"NotBroadcastable":r[v.txid]="NotBroadcastable",n=!0;break;case"Unknown":throw new Error("Logically, cannot be Unknown")}if(g)break}}catch(C){y.e(C)}finally{y.f()}if(!g)r[v.txid]=null!==(O=r[v.txid])&&void 0!==O?O:"Broadcastable",n=!0}}while(n);for(var w=0,k=a;w<k.length;w++){r[k[w].txid]="Unknown"}return r}var m=function(){function e(t){Object(i.a)(this,e),this.props=void 0,this.mounted=void 0,this.next_periodic_check=void 0,this.props=t,this.mounted=!0,this.next_periodic_check=setTimeout(this.periodic_check.bind(this),1e3)}return Object(o.a)(e,[{key:"destroy",value:function(){this.mounted=!1,null!=this.next_periodic_check&&clearTimeout(this.next_periodic_check)}},{key:"execute",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.electron.bitcoin_command([t]);case 2:if(n=e.sent,r=Object(l.a)(n,1),void 0!==(c=r[0])){e.next=7;break}throw new Error("Unexpected result returned");case 7:if("RpcError"!==(null===c||void 0===c?void 0:c.name)){e.next=9;break}throw c;case 9:return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"executeBatch",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.electron.bitcoin_command(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"periodic_check",value:function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.current_contract,console.info("PERIODIC CONTRACT CHECK"),t.should_update()){e.next=5;break}return this.next_periodic_check=setTimeout(this.periodic_check.bind(this),1e3),e.abrupt("return");case 5:return e.next=7,this.get_transaction_status(t);case 7:n=e.sent,r=O(v(n,this.props.current_contract),this.props.current_contract),h.a.dispatch(Object(p.b)({status:n,state:r})),this.mounted&&(c=Object(f.e)(h.a.getState()),i=Object(b.clamp)(null!==c&&void 0!==c?c:0,5,300),console.info("NEXT PERIODIC CONTRACT CHECK ",i," SECONDS"),this.next_periodic_check=setTimeout(this.periodic_check.bind(this),1e3*i));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"check_balance",value:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.execute({method:"getbalance",parameters:[]}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"blockchaininfo",value:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.execute({method:"getblockchaininfo",parameters:[]}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get_new_address",value:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.execute({method:"getnewaddress",parameters:[]}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send_to_address",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.execute({method:"sendtoaddress",parameters:[n,t]}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"list_transactions",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.execute({method:"listtransactions",parameters:["*",t]}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"generate_blocks",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get_new_address();case 2:return n=e.sent,e.abrupt("return",this.execute({method:"generatetoaddress",parameters:[t,n]}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get_transaction_status",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.txn_models.map((function(e){return e.get_txid()})),r=n.map((function(e){return{method:"getrawtransaction",parameters:[e,!0]}})),!(n.length>0)){e.next=8;break}return e.next=5,this.executeBatch(r);case 5:return c=e.sent,console.log(c),e.abrupt("return",Object.fromEntries(c.map((function(e,t){var r,a=[void 0,void 0];"code"in e?a[1]={txid:n[t],confirmations:null}:a[1]={txid:e.txid,confirmations:null!==(r=e.confirmations)&&void 0!==r?r:0};return a[0]=a[1].txid,a}))));case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get_output_status",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){return null}}],[{key:"fund_out",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.electron.bitcoin_command([{method:"fundrawtransaction",parameters:[t.toHex()]}]);case 2:if(!(n=e.sent)[0]||"RpcError"!==n[0].name){e.next=5;break}throw n[0];case 5:return r=n[0].hex,e.abrupt("return",d.Transaction.fromHex(r));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetch_utxo",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.electron.bitcoin_command([{method:"getrawtransaction",parameters:[t,!0]}]);case 2:if((r=e.sent[0])&&"RpcError"!==r.name){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",{blockhash:r.blockhash,confirmations:r.confirmations,scriptPubKey:r.vout[n].scriptPubKey,value:r.vout[n].value});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()},315:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return f}));var r=n(53),a=n(33),c=n(37),i=n(41),o=n(42),s=n(402),u=n(23),l=n(137),d=n(45);function j(e,t,n,r){return{txid:n.getId(),index:r,script:e,amount:t,spends:[]}}var b=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e,r,c){var i;return Object(a.a)(this,n),(i=t.call(this,{name:r.label,color:r.color,amount:e.amount,confirmed:!1,txn:c,utxo:e,metadata:r},c.get_txid(),e.index)).registerListener({selectionChanged:function(t){t.isSelected&&l.a.dispatch(Object(d.l)({hash:e.txid,nIn:e.index}))}}),i}return Object(c.a)(n,[{key:"getAmount",value:function(){return this.getOptions().utxo.amount}},{key:"spent_by",value:function(e,t,n){return this.addOutPort("tx"+t).spend_link(e.addInPort("in"+n,!0),e,void 0)}}]),n}(s.a);function f(e){for(var t=[[e]];t.length;){var n,a=t.pop(),c=Object(r.a)(a);try{var i=function(){var e=n.value;e.getOptions().utxo.spends.forEach((function(n){n.tx.ins.filter((function(t){return Object(u.l)(t.hash)===e.getOptions().utxo.txid})).forEach((function(t){t.hash=e.getOptions().txn.tx.getHash()})),n.tx.ins.filter((function(e){return Object(u.h)({hash:Object(u.l)(e.hash),nIn:e.index})})).forEach((function(t){t.hash=e.getOptions().txn.tx.getHash(),t.index=e.getOptions().utxo.index})),t.push(n.utxo_models)}))};for(c.s();!(n=c.n()).done;)i()}catch(o){c.e(o)}finally{c.f()}}}},402:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(46),a=n(33),c=n(37),i=n(198),o=n(112),s=n(41),u=n(42),l=n(70),d=n(78),j=n(169),b=n(230),f=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NotBroadcastable";return Object(a.a)(this,n),u=u||"red",(e=t.call(this,Object(r.a)({name:s,txid:i,index:o,color:u,amount:l,confirmed:d,type:"utxo-node"},c))).portsIn=void 0,e.portsOut=void 0,e.portsOut=[],e.portsIn=[],e}return Object(c.a)(n,[{key:"sync",value:function(){this.fireEvent({},"sync")}},{key:"getAmount",value:function(){return this.getOptions().amount}},{key:"doClone",value:function(e,t){t.portsIn=[],t.portsOut=[],Object(i.a)(Object(o.a)(n.prototype),"doClone",this).call(this,e,t)}},{key:"removePort",value:function(e){Object(i.a)(Object(o.a)(n.prototype),"removePort",this).call(this,e),e.getOptions().in?this.portsIn.splice(this.portsIn.indexOf(e)):this.portsOut.splice(this.portsOut.indexOf(e))}},{key:"addPort",value:function(e){switch(Object(i.a)(Object(o.a)(n.prototype),"addPort",this).call(this,e),e.constructor){case b.a:-1===this.portsIn.indexOf(e)&&this.portsIn.push(e);break;case j.a:-1===this.portsOut.indexOf(e)&&this.portsOut.push(e);break;default:throw"Unexpected Port Type"}return e}},{key:"addInPort",value:function(e,t){t=t||!0;var n=new b.a({in:!0,name:e,label:"",alignment:d.PortModelAlignment.TOP});return t||this.portsIn.splice(0,0,n),this.addPort(n),n}},{key:"addOutPort",value:function(e,t){t=t||!0;var n=new j.a({in:!1,name:e,label:e,alignment:d.PortModelAlignment.BOTTOM});return t||this.portsOut.splice(0,0,n),this.addPort(n),n}},{key:"getInPorts",value:function(){return this.portsIn}},{key:"getOutPorts",value:function(){return this.portsOut}}]),n}(l.NodeModel)},403:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(46),a=n(33),c=n(37),i=n(198),o=n(112),s=n(41),u=n(42),l=n(70),d=n(78),j=n(230),b=n(169),f=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0;return Object(a.a)(this,n),(e=t.call(this,Object(r.a)({type:"transaction-node",name:i,txn:u,color:s||"red",purpose:o,confirmed:!1,is_reachable:!0,reachable_cb:function(e){return null},confirmed_cb:function(e){return null}},c))).portsIn=void 0,e.portsOut=void 0,e.portsOut=[],e.portsIn=[],e}return Object(c.a)(n,[{key:"doClone",value:function(e,t){t.portsIn=[],t.portsOut=[],Object(i.a)(Object(o.a)(n.prototype),"doClone",this).call(this,e,t)}},{key:"removePort",value:function(e){switch(Object(i.a)(Object(o.a)(n.prototype),"removePort",this).call(this,e),e.constructor){case b.a:this.portsIn.splice(this.portsIn.indexOf(e));break;case j.a:this.portsOut.splice(this.portsOut.indexOf(e));break;default:throw"Wrong Port Type"}}},{key:"addPort",value:function(e){switch(Object(i.a)(Object(o.a)(n.prototype),"addPort",this).call(this,e),e.constructor){case b.a:-1===this.portsIn.indexOf(e)&&this.portsIn.push(e);break;case j.a:-1===this.portsOut.indexOf(e)&&this.portsOut.push(e)}return e}},{key:"addInPort",value:function(e,t){t=t||!0;var n=new b.a({in:!0,name:e,label:e,alignment:d.PortModelAlignment.TOP});return t||this.portsIn.splice(0,0,n),this.addPort(n)}},{key:"addOutPort",value:function(e,t){t=t||!0;var n=new j.a({in:!1,name:e,label:e,alignment:d.PortModelAlignment.BOTTOM});return t||this.portsOut.splice(0,0,n),this.addPort(n)}},{key:"getInPorts",value:function(){return this.portsIn}},{key:"getOutPorts",value:function(){return this.portsOut}}]),n}(l.NodeModel)},45:function(e,t,n){"use strict";n.d(t,"c",(function(){return x})),n.d(t,"k",(function(){return O})),n.d(t,"l",(function(){return v})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"i",(function(){return w})),n.d(t,"g",(function(){return k})),n.d(t,"h",(function(){return C})),n.d(t,"j",(function(){return S})),n.d(t,"e",(function(){return N})),n.d(t,"f",(function(){return T}));var r=n(13),a=n.n(r),c=n(20),i=n(81),o=n(57),s=n.n(o),u=n(314),l=n(315),d=n(23);var j=Object(i.b)({name:"Entity",initialState:{utxos:{},flash:null,last_selected:["NULL",null],show_entity_viewer:!1,colors:{},purpose:{}},reducers:{set_custom_color:function(e,t){e.colors[t.payload[0]]=t.payload[1]},set_custom_purpose:function(e,t){e.purpose[t.payload[0]]=t.payload[1]},clear_utxos:function(e,t){e.utxos={}},select_txn:function(e,t){e.last_selected=["TXN",t.payload],e.show_entity_viewer=!0},select_utxo:function(e,t){e.last_selected=["UTXO",t.payload],e.show_entity_viewer=!0},deselect_entity:function(e){e.show_entity_viewer=!1},__flash:function(e,t){t.payload&&(e.flash=t.payload)},__load_utxo:function(e,t){var n=Object(d.i)(t.payload[0]);Object(d.f)(e.utxos,n)||t.payload[1]&&(e.utxos[n]=t.payload[1])}}}),b=j.actions,f=b.__load_utxo,h=b.__flash,p=j.actions,x=p.deselect_entity,O=p.select_txn,v=p.select_utxo,m=(p.clear_utxos,p.set_custom_color),g=p.set_custom_purpose,y=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(d.f)(r().entityReducer.utxos,Object(d.i)(e))){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,u.a.fetch_utxo(e.hash,e.nIn);case 4:(c=t.sent)&&n(f([e,c]));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},_=function(e,t,n){return function(){var n=Object(c.a)(a.a.mark((function n(r,c){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.fund_out(e).then((function(n){e=n,Object(l.c)(t)})).catch((function(e){r(h(e.message)),setTimeout((function(){r(h(null))}),3e3)}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},w=function(e){return function(t){var n,r=Object(d.i)(t);return null!==(n=e.entityReducer.utxos[r])&&void 0!==n?n:null}},k=function(e){return function(t){var n=t.entityReducer.colors[e];return n?s()(n):null}},C=function(e){return function(t){var n;return null!==(n=t.entityReducer.purpose[e])&&void 0!==n?n:null}},S=function(e){return e.entityReducer.flash},N=function(e){return e.entityReducer.last_selected},T=function(e){return e.entityReducer.show_entity_viewer};t.b=j.reducer},48:function(e,t,n){"use strict";n.d(t,"l",(function(){return j})),n.d(t,"e",(function(){return b})),n.d(t,"m",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return x})),n.d(t,"f",(function(){return O})),n.d(t,"b",(function(){return v})),n.d(t,"h",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return _}));var r=n(13),a=n.n(r),c=n(20),i=n(81),o=n(149),s=n(26),u=n.n(s);var l=Object(i.b)({name:"App",initialState:{data:null,counter:-1,status_bar:!0,showing:"Wallet"},reducers:{switch_showing:function(e,t){e.showing=t.payload},load_new_model:function(e,t){e.data=t.payload,e.counter+=1},toggle_status_bar:function(e){e.status_bar=!e.status_bar},add_effect_to_contract:function(e,t){var n;if(null!==e.data){void 0===e.data.args.context.effects&&(e.data.args.context.effects={}),void 0===e.data.args.context.effects.effects&&(e.data.args.context.effects.effects={});var r=null!==(n=e.data.args.context.effects.effects[t.payload[0]])&&void 0!==n?n:{};r[t.payload[1]]=t.payload[2],e.data.args.context.effects.effects[t.payload[0]]=r}}}}),d=l.actions,j=d.switch_showing,b=d.load_new_model,f=d.toggle_status_bar,h=d.add_effect_to_contract,p=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c,i){var o,s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=i(),r.next=3,window.electron.sapio.create_contract(o.walletReducer.workspace,e,t,n);case 3:"ok"in(s=r.sent)&&s.ok&&c(b({args:JSON.parse(n),name:e,data:JSON.parse(s.ok)}));case 5:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},x=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,i,o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(s=n()).appReducer.data){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",p(s.appReducer.data.name,null!==(r=null===(c=s.appReducer.data.data.program.funding)||void 0===c||null===(i=c.txs[0])||void 0===i||null===(o=i.linked_psbt)||void 0===o?void 0:o.psbt)&&void 0!==r?r:null,JSON.stringify(s.appReducer.data.args))(t,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=r(),window.electron.sapio.compiled_contracts.open(c.walletReducer.workspace,e).then((function(e){if(!("err"in e))return"ok"in e&&n(b(e.ok))}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},v=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.electron.sapio.open_contract_from_file().then((function(e){return"ok"in e&&t(b(JSON.parse(e.ok)))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},m=function(e){var t,n;return[null!==(t=null===(n=e.appReducer.data)||void 0===n?void 0:n.data)&&void 0!==t?t:null,e.appReducer.counter]},g=function(e){return e.appReducer.status_bar},y=Object(o.b)(o.c,u.a.isEqual)([function(e,t){var n,r,a;return null!==(n=null===(r=e.appReducer.data)||void 0===r||null===(a=r.args.context.effects)||void 0===a?void 0:a.effects)&&void 0!==n?n:{}}],(function(e){return Object.fromEntries(Object.keys(e).map((function(e){return[e,null]})))})),_=function(e){return e.appReducer.showing};t.d=l.reducer},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var r=n(81);var a=Object(r.b)({name:"App",initialState:{open_modal:null},reducers:{close_modal:function(e){e.open_modal=null},open_modal:function(e,t){e.open_modal=t.payload}}}),c=a.actions,i=c.close_modal,o=c.open_modal,s=function(e){return e.modalReducer.open_modal};t.b=a.reducer},71:function(e,t,n){"use strict";n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return O}));var r=n(81),a=n(149),c=n(26),i=n.n(c);var o=Object(r.b)({name:"ContractCreator",initialState:{apis:null,show:!1,selected_api:null,continuations:{}},reducers:{set_apis:function(e,t){e.apis=t.payload},select_api:function(e,t){e.selected_api=t.payload},show_apis:function(e,t){e.show=t.payload},set_continuations:function(e,t){e.continuations=t.payload}}}),s=o.actions,u=s.show_apis,l=s.set_apis,d=s.select_api,j=s.set_continuations,b=function(e){return e.contractCreatorReducer.apis},f=Object(a.b)(a.c,i.a.isEqual),h=f([b,function(e){return e.contractCreatorReducer.selected_api}],(function(e,t){var n;return null===e||null===t?null:null!==(n=e[t])&&void 0!==n?n:null})),p=f([b],(function(e){return Object.entries(null!==e&&void 0!==e?e:{})})),x=function(e){return function(t){var n=e.contractCreatorReducer.continuations[t];return null!==n&&void 0!==n?n:null}},O=o.reducer},724:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(9),a=n(0),c=n(84),i=n(227),o=n(197),s=n(43),u=n(2),l=n.n(u),d=n(15),j=n(23),b=n(73),f=(n(1171),n(277));function h(t,n){var r;return t?s.script.toASM(null!==(r=s.script.decompile(n))&&void 0!==r?r:e.from("")):n.toString("hex")}function p(t){Object(d.b)();var n,u=l.a.useRef(null),p=l.a.useState(0),x=Object(r.a)(p,2),O=x[0],v=x[1],m=null;if(void 0!==O&&t.witnesses.length>O){var g=O;m=t.witnesses[g].map((function(e,t){return Object(a.jsx)(b.c,{className:"txhex",value:h(!0,e)},t)}))}var y=s.script.toASM(null!==(n=s.script.decompile(t.txinput.script))&&void 0!==n?n:e.from("Error Decompiling")),_=t.txinput.sequence,w=Object(j.j)(_),k=w.relative_time,C=w.relative_height,S=0===k?0===C?null:Object(a.jsx)("div",{className:"InputDetailSequence",children:Object(a.jsx)(b.b,{value:C.toString(),label:"Relative Height"})}):Object(a.jsx)("div",{className:"InputDetailSequence",children:Object(a.jsx)(b.b,{value:Object(j.k)(k),label:"Relative Time"})}),N=t.witnesses.map((function(e,t){return Object(a.jsx)(c.a,{value:t,children:t},t)})),T=0===t.txinput.script.length?null:Object(a.jsx)("div",{className:"InputDetailScriptSig",children:Object(a.jsx)(b.c,{className:"txhex",value:y,label:"ScriptSig"})});return Object(a.jsxs)("div",{className:"InputDetail",children:[Object(a.jsx)(f.b,{txid:Object(j.l)(t.txinput.hash),n:t.txinput.index}),S,T,Object(a.jsxs)("form",{children:[Object(a.jsx)(i.a,{id:"label-select-witness",children:"Witness"}),Object(a.jsx)(o.a,{labelId:"label-select-witness",label:"Witness",variant:"outlined",ref:u,onChange:function(){var e,n,r,a=null!==(e=parseInt(null!==(n=null===(r=u.current)||void 0===r?void 0:r.value)&&void 0!==n?n:"0"))&&void 0!==e?e:0;a<t.witnesses.length&&a>=0&&v(a)},children:N})]}),Object(a.jsx)("div",{children:m})]})}}).call(this,n(29).Buffer)},725:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(0),a=n(127),c=n(93),i=n(106),o=n(226),s=n.n(o),u=n(43),l=(n(2),n(15)),d=n(23),j=n(45),b=n(73);n(1173);function f(t){var n,o=Object(l.b)(),f=t.txoutput.getOptions(),h=null!==(n=u.script.decompile(f.utxo.script))&&void 0!==n?n:e.from(""),p=u.script.toASM(h);return Object(r.jsxs)("div",{className:"OutputDetail",children:[Object(r.jsx)(d.c,{amount:f.utxo.amount}),Object(r.jsx)(b.c,{className:"txhex",value:p,label:"Script"}),Object(r.jsx)(a.a,{title:"Go To the Transaction that created this.",children:Object(r.jsx)(c.a,{"aria-label":"goto-creating-txn",onClick:function(){return o(Object(j.l)({hash:f.txn.get_txid(),nIn:f.utxo.index}))},children:Object(r.jsx)(s.a,{style:{color:i.a[500]}})})})]})}}).call(this,n(29).Buffer)},729:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return B}));var r=n(46),a=n(9),c=n(0),i=n(32),o=n(127),s=n(93),u=n(76),l=n(128),d=n(506),j=n(507),b=n(508),f=n(509),h=n(106),p=n(157),x=n(730),O=n.n(x),v=n(731),m=n.n(v),g=n(226),y=n.n(g),_=n(43),w=n(2),k=n.n(w),C=n(15),S=n(126),N=n(23),T=n(45),P=n(73),E=n(277),I=(n(1176),n(71)),A=n(74),R=n(48),M=k.a.memo(D,(function(e,t){var n=e.entity==t.entity&&e.contract==t.contract;return console.log("NEWCHECK?",n),n}));function B(e){var t,n,r=Object(C.c)(T.e),a="UTXO"===r[0]&&null!==(t=null===(n=N.d.get_by_txid_s(e.contract.txid_map,r[1].hash))||void 0===n?void 0:n.utxo_models[r[1].nIn])&&void 0!==t?t:null;return Object(c.jsx)("div",{hidden:null===a,children:a&&Object(c.jsx)(M,{contract:e.contract,entity:a})})}function D(t){var n,r,l,d,j=Object(i.a)(),b=Object(C.b)(),f=Object(C.c)(I.d),x=t.entity.getOptions(),v=x.txn.get_txid(),g=x.utxo.index,w={hash:v,nIn:g},k=Object(C.c)(T.i)(w),A=Object(C.c)(T.j),R=Object(N.h)(w),M=k&&k.confirmations>0,B=(null!==(n=null===k||void 0===k?void 0:k.scriptPubKey.address)&&void 0!==n||_.script.toASM(null!==(r=_.script.decompile(x.utxo.script))&&void 0!==r?r:e.from("")),null===k||void 0===k?void 0:k.scriptPubKey.address),D=null!==(l=null===k||void 0===k?void 0:k.scriptPubKey.asm)&&void 0!==l?l:null;if(!B){B="UNKNOWN";try{D=_.script.toASM(x.utxo.script),B=_.address.fromOutputScript(x.utxo.script,_.networks.regtest)}catch(K){}}var F=x.utxo.spends.map((function(e,t){return Object(c.jsxs)("div",{className:"Spend",children:[Object(c.jsx)(P.c,{value:e.get_txid(),label:"TXID"}),Object(c.jsx)(o.a,{title:"Go To The Spending Transaction",children:Object(c.jsx)(s.a,{"aria-label":"goto-spending-txn",onClick:function(){return b(Object(T.k)(e.get_txid()))},children:Object(c.jsx)(y.a,{style:{color:h.a[500]}})})})]},Object(N.e)(e.tx))})),q=!R||M?null:Object(c.jsx)(o.a,{title:"Create Contract",children:Object(c.jsx)(s.a,{"aria-label":"create-contract",onClick:function(){return b(Object(T.a)(x.txn.tx,t.entity,t.contract))},children:Object(c.jsx)(O.a,{style:{color:h.a[500]}})})}),U=R||M?null:Object(c.jsx)(o.a,{title:"Check if Coin Exists",children:Object(c.jsx)(s.a,{"aria-label":"check-coin-exists",onClick:function(){return b(Object(T.d)(w))},children:Object(c.jsx)(m.a,{style:{color:p.a[500]}})})}),H=x.txn instanceof S.a?Object(c.jsx)("p",{children:"External UTXO"}):Object(c.jsx)(N.c,{amount:x.utxo.amount}),z=f("".concat(v,":").concat(g)),V=z?Object.entries(z).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(c.jsx)(W,{v:r},n)})):null,G=V?Object(c.jsxs)("div",{children:[Object(c.jsx)(u.a,{variant:"h5",color:j.palette.text.primary,children:"Continuations"}),V]}):null;return Object(c.jsxs)("div",{className:"UTXODetail",children:[Object(c.jsx)("div",{children:A}),Object(c.jsxs)("div",{children:[q,U]}),H,G,Object(c.jsx)(L,{metadata:x.metadata}),Object(c.jsx)(E.a,{txid:v,n:g}),Object(c.jsx)(P.a,{className:"txhex",value:B,label:"Address"}),Object(c.jsx)(P.a,{className:"txhex",value:null!==(d=D)&&void 0!==d?d:"UNKNOWN",label:"ASM"}),D,Object(c.jsx)(u.a,{variant:"h5",color:j.palette.text.primary,children:"Spent By"}),F]})}function L(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(u.a,{variant:"h5",children:"Metadata"}),Object(c.jsx)(F,{simp_neg_12345:e.metadata.simp[-12345]}),Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Key"}),Object(c.jsx)("th",{children:"Value"})]})}),Object(c.jsx)("tbody",{children:Object.entries(e.metadata).filter((function(e){var t=Object(a.a)(e,2),n=t[0];t[1];return"simp"!==n})).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)(u.a,{children:n})}),Object(c.jsx)("td",{children:Object(c.jsx)(u.a,{children:"string"===typeof r?r:JSON.stringify(r)})})]},n)}))})]})]})}function F(e){var t=null;return e.simp_neg_12345&&(t=Object(c.jsx)("div",{children:Object(c.jsx)("img",{style:{maxWidth:"50%"},src:"https://".concat(e.simp_neg_12345.cid,".ipfs.nftstorage.link")})})),t}function W(e){var t=k.a.useState(!1),n=Object(a.a)(t,2),i=n[0],o=n[1],s=e.v.path.substr(e.v.path.lastIndexOf("/")+1),h=Object(C.b)();return Object(c.jsxs)("div",{children:[Object(c.jsx)(l.a,{onClick:function(){return o(!0)},variant:"contained",children:s}),Object(c.jsxs)(d.a,{open:i,onClose:function(){return o(!1)},children:[Object(c.jsxs)(j.a,{children:[Object(c.jsx)(u.a,{variant:"h5",children:s}),Object(c.jsx)(P.a,{className:"txhex",value:e.v.path,label:"Full Path"})]}),Object(c.jsx)(b.a,{children:Object(c.jsx)(U,Object(r.a)({},e))}),Object(c.jsxs)(f.a,{children:[Object(c.jsx)(l.a,{onClick:function(){return h(Object(R.g)())},children:"Recompile"}),Object(c.jsx)(l.a,{onClick:function(){return o(!1)},children:"Close"})]})]})]})}var q={title:"Name for this Update",type:"string"},U=k.a.memo(H,(function(e,t){return e.v.path===t.v.path}));function H(e){var t=Object(C.b)(),n=k.a.useRef(null),r=k.a.useRef(null),a=k.a.useRef(""),i=Object(C.c)((function(t){return Object(R.i)(t,e.v.path)}));return Object(c.jsxs)("div",{children:[Object(c.jsx)(A.a,{schema:q,validate:function(e,t){return""===e&&t.addError("Name Required"),Object(N.f)(i,e)&&t.addError("Name Already Used"),a.current=e,t},liveValidate:!0,ref:r,children:Object(c.jsx)("div",{})}),Object(c.jsx)(A.a,{schema:e.v.schema,onSubmit:function(n){var r=a.current,c=n.formData;t(Object(R.a)([e.v.path,r,c]))},ref:n})]})}}).call(this,n(29).Buffer)},73:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f}));var r=n(46),a=n(9),c=n(0),i=n(2),o=n.n(i),s=n(127),u=n(140),l=n(32);function d(e){var t=o.a.useState(null),n=Object(a.a)(t,2),r=n[0],i=n[1],d=o.a.useRef(null),j=(Object(l.a)(),function(){navigator.clipboard.writeText(e.value),i("Copied!"),setTimeout((function(){i(null)}),1e3)});return o.a.useEffect((function(){var e;null===(e=d.current)||void 0===e||e.addEventListener("dblclick",j)})),Object(c.jsx)(s.a,{title:null!==r&&void 0!==r?r:"double click to copy.",arrow:!0,placement:"top",children:Object(c.jsx)("div",{children:Object(c.jsx)(u.a,{ref:d,fullWidth:!0,label:e.label,defaultValue:e.value,variant:"outlined",InputProps:{readOnly:!0}})})})}function j(e){return d(Object(r.a)(Object(r.a)({},e),{},{styling:"truncate "+e.className}))}function b(e){return d(Object(r.a)(Object(r.a)({},e),{},{styling:"ASM "+e.className}))}function f(e){return Object(c.jsx)(u.a,{fullWidth:!0,label:e.label,defaultValue:e.value,variant:"outlined",InputProps:{readOnly:!0}})}},732:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(46),a=n(53),c=n(13),i=n.n(c),o=n(20),s=n(9),u=n(0),l=n(739),d=n(521),j=n(320),b=n(321),f=n(141),h=n(58),p=n(322),x=n(76),O=n(2),v=(n(1178),n(43));function m(){var e=O.useState(null),t=Object(s.a)(e,2),r=t[0],a=t[1];return O.useEffect((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.e(3).then(n.bind(null,1195)).then((function(e){a(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}null===r&&function(){e.apply(this,arguments)}()}),[r]),r?Object(u.jsx)(y,{miniscript:r}):Object(u.jsx)("h1",{children:"Loading WASM..."})}var g=/\r\n|(?!\r\n)[\n-\r\x85\u2028\u2029]/;function y(e){var t=O.useState([]),n=Object(s.a)(t,2),c=n[0],i=n[1],o=O.useState(""),v=Object(s.a)(o,2),m=v[0],y=v[1],w=O.useState(null),k=Object(s.a)(w,2),C=k[0],S=k[1];return O.useEffect((function(){var t,n=e.miniscript.KeyTab.new(),r=(m.split(g).forEach((function(e){if(e.match(g))return[];if(""===e)return[];var t=e.split(":",2);if(2!==t.length)return[];n.add(t[0].trim(),t[1].trim())})),e.miniscript.Fragments.new()),i=Object(a.a)(c);try{for(i.s();!(t=i.n()).done;){var o=t.value;if("err"===o[0])return S(null),void console.log(o);r.add(o[2])}}catch(u){i.e(u)}finally{i.f()}try{var s=e.miniscript.taproot(r,n);S(JSON.parse(s))}catch(l){S(null),console.log(l)}}),[m,c]),Object(u.jsxs)(l.a,{className:"MiniscriptCompiler",children:[Object(u.jsx)("h1",{children:"Input"}),Object(u.jsx)(d.a,{onChange:function(t){var n=t.target.value.split(g).flatMap((function(t){if(t.match(g))return[];try{return[["ok",t,e.miniscript.compile(t)]]}catch(n){if("string"===typeof n)return[["err",t,n]];throw n}}));i(n)},minRows:3,style:{width:"50%"}}),Object(u.jsxs)(j.a,{children:[Object(u.jsx)(b.a,{children:Object(u.jsxs)(f.a,{children:[Object(u.jsx)(h.a,{variant:"head",children:"Input"}),Object(u.jsx)(h.a,{variant:"head",children:"=>"}),Object(u.jsx)(h.a,{variant:"head",children:"Output"})]})}),Object(u.jsx)(p.a,{children:c.map((function(e,t){return Object(u.jsxs)(f.a,{children:[Object(u.jsx)(h.a,{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:Object(u.jsx)(x.a,{className:"CompilerOutput",component:"code",children:e[1]})}),Object(u.jsxs)(h.a,{children:[" ","=>"," "]}),Object(u.jsx)(h.a,{children:Object(u.jsx)(x.a,{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},className:"CompilerOutput",component:"code",children:e[2]})})]},"".concat(e[1],"#").concat(t))}))})]}),Object(u.jsx)("h1",{children:"Translate Keys"}),Object(u.jsx)(d.a,{onChange:function(e){y(e.target.value)},minRows:3,style:{width:"50%"}}),Object(u.jsx)("div",{children:C&&Object(u.jsx)(_,Object(r.a)({},C))})]})}function _(t){var n=t.scripts.flatMap((function(t){var n,r=Object(s.a)(t,2),a=Object(s.a)(r[0],2),c=a[0],i=a[1],o=r[1],l=v.script.decompile(e.from(c,"hex"));return n=l?v.script.toASM(l):"Unparsable: ".concat(c),o.map((function(e){return Object(u.jsxs)(f.a,{className:"PathRow",children:[Object(u.jsx)(h.a,{children:i}),Object(u.jsx)(h.a,{children:Object(u.jsx)("code",{children:n})}),Object(u.jsx)(h.a,{children:e})]},"".concat(e))}))}));return Object(u.jsxs)("div",{children:[Object(u.jsxs)(j.a,{children:[Object(u.jsx)(b.a,{children:Object(u.jsxs)(f.a,{children:[Object(u.jsx)(h.a,{variant:"head",children:"type"}),Object(u.jsx)(h.a,{variant:"head",children:"address"})]})}),Object(u.jsxs)(p.a,{children:[Object(u.jsxs)(f.a,{children:[Object(u.jsx)(h.a,{children:"main"}),Object(u.jsx)(h.a,{children:t.address.main})]}),Object(u.jsxs)(f.a,{children:[Object(u.jsx)(h.a,{children:"signet"}),Object(u.jsx)(h.a,{children:t.address.main})]}),Object(u.jsxs)(f.a,{children:[Object(u.jsx)(h.a,{children:"regtest"}),Object(u.jsx)(h.a,{children:t.address.regtest})]}),Object(u.jsxs)(f.a,{children:[Object(u.jsx)(h.a,{children:"testnet"}),Object(u.jsx)(h.a,{children:t.address.test})]})]})]}),Object(u.jsxs)(j.a,{className:"TapPaths",children:[Object(u.jsx)(b.a,{children:Object(u.jsxs)(f.a,{children:[Object(u.jsx)(h.a,{variant:"head",children:" Script "}),Object(u.jsx)(h.a,{variant:"head",children:" Depth "}),Object(u.jsx)(h.a,{variant:"head",children:" Path"})]})}),Object(u.jsx)(p.a,{children:n})]})]})}}).call(this,n(29).Buffer)},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return x}));var r=n(13),a=n.n(r),c=n(20),i=n(81),o=n(26),s=n.n(o);function u(e){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=j,e.next=4,window.electron.load_settings_sync("display");case 4:return e.t2=e.sent,e.next=7,window.electron.load_settings_sync("bitcoin");case 7:e.t3=e.sent,e.t4={display:e.t2,bitcoin:e.t3},e.t5={settings:e.t4},e.t6=(0,e.t1)(e.t5),(0,e.t0)(e.t6);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=Object(i.b)({name:"Settings",initialState:{settings:{display:{animation_speed:"Disabled",node_polling_freq:0,satoshis:{AlwaysBitcoin:null}},bitcoin:{network:"Bitcoin"}}},reducers:{load_settings:function(e,t){e=s.a.merge(e,t.payload)}}}),j=d.actions.load_settings,b=function(e){return e.settingsReducer.settings.display.satoshis?"BitcoinAfter"in e.settingsReducer.settings.display.satoshis?e.settingsReducer.settings.display.satoshis.BitcoinAfter:"AlwaysSats"in e.settingsReducer.settings.display.satoshis?21e14:0:0},f=function(e){return e.settingsReducer.settings.display.node_polling_freq},h=function(e){return e.settingsReducer.settings.bitcoin.network},p=function(e){return"Disabled"===e.settingsReducer.settings.display.animation_speed?0:e.settingsReducer.settings.display.animation_speed.Enabled},x=d.reducer},91:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d}));var r=n(81),a=n(23);var c=Object(r.b)({name:"Simulation",initialState:{unreachable_models:{},show:!1},reducers:{set_unreachable:function(e,t){e.unreachable_models=t.payload},toggle_showing:function(e){e.show=!e.show}}}),i=c.actions,o=i.set_unreachable,s=i.toggle_showing,u=function(e){return function(t){return!Object(a.f)(e.simulationReducer.unreachable_models,t)}},l=function(e){return e.simulationReducer.show},d=c.reducer},962:function(e,t,n){},969:function(e,t){},971:function(e,t){},981:function(e,t){},983:function(e,t){},996:function(e,t){},999:function(e,t){}},[[1182,1,2]]]);
//# sourceMappingURL=main.b5d7d9e6.chunk.js.map